{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\morim\\\\Desktop\\\\my_folder\\\\school\\\\lesson\\\\ensyu\\\\code\\\\team-b-project-output\\\\team-b-project\\\\frontend\\\\src\\\\AllPage\\\\InputAll\\\\Sokuho\\\\SokuhoStartingMember\\\\StartingMember.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport { useNavigate, useSearchParams } from \"react-router-dom\";\nimport { useCookies } from 'react-cookie';\nimport { TitleBar } from \"../../../OtherPage/TitleBar/TitleBar\";\nimport { MenuBar } from \"../../../OtherPage/optionFunc/MenuBar\";\n\n//バックエンドのurlを取得\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst backendUrl = require(\"../../../../DB/communication\").backendUrl;\n\n//フロントの階層urlを取得\nconst routeUrl = require(\"../../../../DB/communication\").routeUrl;\nconst {\n  Member\n} = require(\"../../../../DB/Member\");\nconst {\n  PositionDB\n} = require(\"../../../../DB/Position9DB\");\nconst tableStyle = {\n  border: '1px solid black',\n  borderCollapse: 'collapse',\n  textAlign: 'center'\n};\nconst tdStyle = {\n  border: '1px solid #85C1E9',\n  background: 'white',\n  padding: '5px'\n};\nconst thStyle = {\n  border: '1px solid #3498DB',\n  background: '#3498DB',\n  color: 'white'\n};\nconst thStyle2 = {\n  border: '1px solid #FF3347',\n  background: '#FF3347',\n  color: 'white'\n};\nconst tdStyle2 = {\n  border: '1px solid #FF99a3',\n  background: 'white',\n  padding: '5px'\n};\n\n//選手を読み込む\nconst loadRegisteredMember = (urlTournamentId, urlSchoolId, setRegisteredMember, isEmptyFlag, setIsEmptyFlag) => {\n  fetch(backendUrl + \"/member/tournament_member_call\", {\n    method: \"POST\",\n    mode: \"cors\",\n    headers: {\n      \"Content-Type\": \"application/json\"\n    },\n    body: JSON.stringify({\n      tournament_id: urlTournamentId,\n      school_id: urlSchoolId\n    })\n  }).then(response => response.json()).then(data => {\n    if (data.length !== 0) {\n      setIsEmptyFlag(!isEmptyFlag);\n    }\n    setRegisteredMember(data);\n  });\n};\n\n//自作プルダウン\nconst makePulldown = (pulldownId, ArrayList, idText, nowSelected, setNowSelected, isInitial1, setIsInitial1) => {\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"select\", {\n      id: \"tekitouni\",\n      onChange: e => {\n        //ステイトが変化すると再描画させるための文、これがないと再描画されない\n        //なお、消すと再描画はされないが内部は変化する\n        nowSelected = nowSelected.slice(0, nowSelected.length);\n        nowSelected[pulldownId] = e.target.value;\n        setNowSelected(nowSelected);\n        console.log(nowSelected);\n        let array2 = isInitial1.slice(0, isInitial1.length);\n        array2[pulldownId] = false;\n        setIsInitial1(array2);\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"option\", {\n        hidden: true,\n        children: \"\\u9078\\u629E\\u3057\\u3066\\u304F\\u3060\\u3055\\u3044\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 17\n      }, this), ArrayList.map((component, ind) => /*#__PURE__*/_jsxDEV(\"option\", {\n        value: ind,\n        children: component[idText]\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 21\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 13\n    }, this)\n  }, void 0, false);\n};\nconst tyouhuku = (nowSelected, urlSchoolName, nowSelected2, urlSchoolName2) => {\n  //守備位置重複確認\n  let error = 0;\n  for (let i = 0; i <= 8; i++) {\n    for (let j = i + 1; j <= 8; j++) {\n      if (nowSelected[i] === nowSelected[j]) {\n        alert(urlSchoolName + \"の\" + (i + 1) + \"番打者と\" + (j + 1) + \"番打者の守備位置が重複しています\");\n        error++;\n        break;\n      }\n      if (nowSelected2[i] === nowSelected2[j]) {\n        alert(urlSchoolName2 + \"の\" + (i + 1) + \"番打者と\" + (j + 1) + \"番打者の守備位置が重複しています\");\n        error++;\n        break;\n      }\n    }\n    if (error > 0) {\n      error = 0;\n      break;\n    }\n  }\n  //選手氏名重複確認\n  for (let i = 9; i <= 17; i++) {\n    for (let j = i + 1; j <= 17; j++) {\n      if (nowSelected[i] === nowSelected[j]) {\n        alert(urlSchoolName + \"の\" + (i - 8) + \"番打者と\" + (j - 8) + \"番打者の選手氏名が重複しています\");\n        error++;\n        break;\n      }\n      if (nowSelected2[i] === nowSelected2[j]) {\n        alert(urlSchoolName2 + \"の\" + (i - 8) + \"番打者と\" + (j - 8) + \"番打者の選手氏名が重複しています\");\n        error++;\n        break;\n      }\n    }\n    if (error > 0) {\n      error = 0;\n      break;\n    }\n  }\n};\n\n// 選んだ選手情報を送信する\nconst sendSelectedMember = async (nowSelected, PositionDB, registeredMember, urlGameId, urlSchoolId, setRegisteredSM, loadStartingMember) => {\n  let returnValue = 1;\n  let toSendArray = await [];\n  for (let i = 0; i < 9; i++) {\n    toSendArray = await [...toSendArray, {}];\n  }\n  for (let i = 0; i < 9; i++) {\n    toSendArray[i].game_id = await urlGameId;\n    toSendArray[i].school_id = await urlSchoolId;\n    toSendArray[i].position = await PositionDB[nowSelected[i]].kata;\n    toSendArray[i].player_id = await registeredMember[nowSelected[i + 9]].player_id;\n    toSendArray[i].uniform_number = await registeredMember[nowSelected[i + 9]].uniform_number;\n    toSendArray[i].grade = await registeredMember[nowSelected[i + 9]].grade;\n    toSendArray[i].handed_hit = await registeredMember[nowSelected[i + 9]].handed_hit;\n    toSendArray[i].handed_throw = await registeredMember[nowSelected[i + 9]].handed_throw;\n    toSendArray[i].batting_order = (await i) + 1;\n    toSendArray[i].BA = await registeredMember[nowSelected[i + 9]].BA;\n  }\n  await console.log(toSendArray);\n  await deleteStartingMember(urlGameId, urlSchoolId);\n  const fetch1 = await fetch(backendUrl + \"/member/starting_member_register\", {\n    method: \"POST\",\n    mode: \"cors\",\n    headers: {\n      \"Content-Type\": \"application/json\"\n    },\n    body: JSON.stringify(toSendArray)\n  });\n  const fetch1Result = await fetch1.text();\n  await loadStartingMember(urlGameId, urlSchoolId, setRegisteredSM);\n  return returnValue;\n};\n\n//　今のスターティングメンバーを読み込む\nconst loadStartingMember = (game_id, school_id, setRegisteredSM) => {\n  fetch(backendUrl + \"/member/starting_member_call\", {\n    method: \"POST\",\n    mode: \"cors\",\n    headers: {\n      \"Content-Type\": \"application/json\"\n    },\n    body: JSON.stringify({\n      game_id: game_id,\n      school_id: school_id\n    })\n  }).then(response => response.json()).then(data => {\n    data.sort((a, b) => a.batting_order - b.batting_order);\n    setRegisteredSM(data);\n  });\n};\n\n//  スターティングメンバーを削除\nconst deleteStartingMember = async (game_id, school_id) => {\n  await fetch(backendUrl + \"/member/starting_member_delete_batch\", {\n    method: \"POST\",\n    mode: \"cors\",\n    headers: {\n      \"Content-Type\": \"application/json\"\n    },\n    body: JSON.stringify({\n      game_id: game_id,\n      school_id: school_id\n    })\n  }).then(response => response.text()).then(data => {\n    console.log(data);\n  });\n};\n\n// 被りチェック\nconst isDuplicate = nowSelected => {\n  let TorF = false;\n  let positionNo = nowSelected.slice(0, 9);\n  let MemberNo = nowSelected.slice(9, 18);\n  positionNo.map((v, ind1) => {\n    positionNo.map((u, ind2) => {\n      if (ind1 !== ind2) {\n        if (v === u) {\n          TorF = true;\n        }\n      }\n    });\n  });\n  MemberNo.map((v, ind1) => {\n    MemberNo.map((u, ind2) => {\n      if (ind1 !== ind2) {\n        if (v === u) {\n          TorF = true;\n        }\n      }\n    });\n  });\n  return TorF;\n};\nconst StartingMember = () => {\n  _s();\n  //クッキー関連\n  const [cookies, setCookie, removeCookie] = useCookies();\n\n  //ページ遷移用\n  const navigate = useNavigate();\n  const PageTransition = url => {\n    navigate(url);\n  };\n\n  //プルダウンのための初期値作成\n  let initialPulldown = [];\n  let initialTorF = [];\n  for (let i = 0; i < 18; i++) {\n    initialPulldown = [...initialPulldown, \"0\"];\n    initialTorF = [...initialTorF, true];\n  }\n\n  //今選択しているものの内容を監視\n  const [nowSelected, setNowSelected] = useState(initialPulldown); //チーム1\n  const [nowSelected2, setNowSelected2] = useState(initialPulldown); //チーム2\n\n  //プルダウンで今初期値かどうかを監視\n  const [isInitial1, setIsInitial1] = useState(initialTorF);\n  const [isInitial2, setIsInitial2] = useState(initialTorF);\n\n  //受け取った配列が空でないかを監視\n  const [isEmptyFlag, setIsEmptyFlag] = useState(false);\n\n  //既に登録されている先行チームの選手情報を管理するステイト\n  const [registeredSM1, setRegisteredSM1] = useState([]);\n\n  //既に登録されている後攻チームの選手情報を管理するステイト\n  const [registeredSM2, setRegisteredSM2] = useState([]);\n\n  //データを再読み込みするためのステイト\n  const [useEffectFlag, setUseEffectFlag] = useState(false);\n\n  //map関数を使うための空配列作成\n  let enptyArray = [];\n  for (let i = 0; i < 9; i++) {\n    enptyArray = [...enptyArray, 0];\n  }\n\n  //urlから値を読み出す\n  const [searchParams] = useSearchParams();\n  const urlTournamentId = searchParams.get(\"urlTournamentId\");\n  const urlTournamentName = searchParams.get(\"urlTournamentName\");\n  const urlSchoolId = searchParams.get(\"urlSchoolId\");\n  const urlSchoolName = searchParams.get(\"urlSchoolName\");\n  const urlSchoolId2 = searchParams.get(\"urlSchoolId2\");\n  const urlSchoolName2 = searchParams.get(\"urlSchoolName2\");\n  const urlGameId = searchParams.get(\"urlGameId\");\n\n  //表示するメンバーのステイトのための初期値、これがないと最初にエラーが出る\n  const initialComponent = [{\n    BA: 0.5,\n    grade: 3,\n    handed_hit: \"右\",\n    handed_throw: \"右\",\n    player_id: 2,\n    player_name_hira: \"\",\n    player_name_kanji: \"\",\n    school_id: 1,\n    tournament_id: 1,\n    uniform_number: 1\n  }];\n\n  //表示するメンバーのステイト定義\n  const [registeredMember1, setRegisteredMember1] = useState(initialComponent);\n  const [registeredMember2, setRegisteredMember2] = useState(initialComponent);\n  useEffect(() => {\n    loadRegisteredMember(urlTournamentId, urlSchoolId, setRegisteredMember1, isEmptyFlag, setIsEmptyFlag);\n    loadRegisteredMember(urlTournamentId, urlSchoolId2, setRegisteredMember2, isEmptyFlag, setIsEmptyFlag);\n  }, []);\n  useEffect(() => {\n    // console.log(loadStartingMemberAsync(urlGameId, urlSchoolId))\n    loadStartingMember(urlGameId, urlSchoolId, setRegisteredSM1);\n    loadStartingMember(urlGameId, urlSchoolId2, setRegisteredSM2);\n  }, [useEffectFlag]);\n\n  //セッション関連\n  useEffect(() => {\n    const gameStart = async () => {\n      const CheckSess = await fetch(backendUrl + \"/auth/check_sess\", {\n        method: \"POST\",\n        mode: \"cors\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          sessionID: cookies.sessionID\n        })\n      });\n      const sess = await CheckSess.text();\n      console.log(sess);\n      console.log(cookies.sessionID);\n      if (sess === 'logout') {\n        PageTransition(routeUrl + \"/login\");\n      }\n    };\n    gameStart();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    align: \"center\",\n    children: [/*#__PURE__*/_jsxDEV(TitleBar, {\n      TitleText: \"スタメン選択画面\",\n      PageTransition: PageTransition,\n      valueUrl: -1\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 356,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(MenuBar, {\n      menuArray: [{\n        text: \"InputMember\",\n        urlTournamentId: urlTournamentId,\n        urlTournamentName: urlTournamentName,\n        urlSchoolName: urlSchoolName,\n        urlSchoolName2: urlSchoolName2,\n        urlSchoolId: urlSchoolId,\n        urlSchoolId2: urlSchoolId2\n      }, {\n        text: \"InputSchool\",\n        urlTournamentId: urlTournamentId,\n        urlTournamentName: urlTournamentName\n      }]\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 361,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n      children: [\"\\u7DE8\\u96C6\\u4E2D\\uFF1A\", urlTournamentName]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 379,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"error\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 380,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n      style: tableStyle,\n      children: /*#__PURE__*/_jsxDEV(\"tbody\", {\n        children: [/*#__PURE__*/_jsxDEV(\"tr\", {\n          children: /*#__PURE__*/_jsxDEV(\"th\", {\n            colSpan: 5,\n            children: /*#__PURE__*/_jsxDEV(\"font\", {\n              size: \"+2\",\n              children: [urlSchoolName, \"\\u3000\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 383,\n              columnNumber: 41\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 383,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 383,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"th\", {\n            style: thStyle,\n            rowspan: \"2\",\n            children: \"\\u6253\\u9806\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 385,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            style: thStyle,\n            rowspan: \"2\",\n            children: \"\\u4F4D\\u7F6E\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 386,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            style: thStyle,\n            children: \"\\u3075\\u308A\\u304C\\u306A\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 387,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            style: thStyle,\n            rowspan: \"2\",\n            children: \"\\u80CC\\u756A\\u53F7\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 388,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            style: thStyle,\n            rowspan: \"2\",\n            children: \"\\u5B66\\u5E74\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 389,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            style: thStyle,\n            rowspan: \"2\",\n            children: \"\\u65E2\\u767B\\u9332\\u306E\\u9078\\u624B\\u60C5\\u5831\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 390,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 384,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: /*#__PURE__*/_jsxDEV(\"th\", {\n            style: thStyle,\n            children: \"\\u9078\\u624B\\u6C0F\\u540D\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 392,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 392,\n          columnNumber: 21\n        }, this), registeredMember1.length === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          children: \"\\u9078\\u624B\\u304C\\u767B\\u9332\\u3055\\u308C\\u3066\\u3044\\u307E\\u305B\\u3093\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 395,\n          columnNumber: 25\n        }, this), registeredMember1.length !== 0 && enptyArray.map((component, ind) => /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              style: tdStyle,\n              rowspan: \"2\",\n              children: ind + 1\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 401,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              style: tdStyle,\n              rowspan: \"2\",\n              children: makePulldown(ind, PositionDB, \"kata\", nowSelected, setNowSelected, isInitial1, setIsInitial1)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 402,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              style: tdStyle,\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                id: \"player_name_hira1\",\n                children: [!isInitial1[ind + 9] && registeredMember1[nowSelected[ind + 9]].player_name_hira, isInitial1[ind + 9] && \"　\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 406,\n                columnNumber: 53\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 406,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              style: tdStyle,\n              rowspan: \"2\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                id: \"uniform_number1\",\n                children: [!isInitial1[ind + 9] && registeredMember1[nowSelected[ind + 9]].uniform_number, isInitial1[ind + 9] && \"　\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 410,\n                columnNumber: 65\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 410,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              style: tdStyle,\n              rowspan: \"2\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                id: \"grade1\",\n                children: [!isInitial1[ind + 9] && registeredMember1[nowSelected[ind + 9]].grade, isInitial1[ind + 9] && \"　\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 414,\n                columnNumber: 65\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 414,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              style: tdStyle,\n              rowspan: \"2\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: registeredSM1 !== undefined && registeredSM1.some(v => v.batting_order === ind + 1) && registeredSM1.find(v => v.batting_order === ind + 1).position\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 420,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: registeredSM1 !== undefined && registeredSM1.some(v => v.batting_order === ind + 1) && registeredSM1.find(v => v.batting_order === ind + 1).player_name_kanji\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 426,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 418,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 400,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: /*#__PURE__*/_jsxDEV(\"td\", {\n              style: tdStyle,\n              children: makePulldown(ind + 9, registeredMember1, \"player_name_kanji\", nowSelected, setNowSelected, isInitial1, setIsInitial1)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 435,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 434,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 382,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 381,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 444,\n      columnNumber: 21\n    }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n      style: tableStyle,\n      children: /*#__PURE__*/_jsxDEV(\"tbody\", {\n        children: [/*#__PURE__*/_jsxDEV(\"tr\", {\n          children: /*#__PURE__*/_jsxDEV(\"th\", {\n            colSpan: 5,\n            children: /*#__PURE__*/_jsxDEV(\"font\", {\n              size: \"+2\",\n              children: [urlSchoolName2, \"\\u3000\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 449,\n              columnNumber: 41\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 449,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 449,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"th\", {\n            style: thStyle2,\n            rowspan: \"2\",\n            children: \"\\u6253\\u9806\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 451,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            style: thStyle2,\n            rowspan: \"2\",\n            children: \"\\u4F4D\\u7F6E\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 452,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            style: thStyle2,\n            children: \"\\u3075\\u308A\\u304C\\u306A\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 453,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            style: thStyle2,\n            rowspan: \"2\",\n            children: \"\\u80CC\\u756A\\u53F7\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 454,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            style: thStyle2,\n            rowspan: \"2\",\n            children: \"\\u5B66\\u5E74\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 455,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            style: thStyle2,\n            rowspan: \"2\",\n            children: \"\\u65E2\\u767B\\u9332\\u306E\\u9078\\u624B\\u60C5\\u5831\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 456,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 450,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: /*#__PURE__*/_jsxDEV(\"th\", {\n            style: thStyle2,\n            children: \"\\u9078\\u624B\\u6C0F\\u540D\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 458,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 458,\n          columnNumber: 21\n        }, this), registeredMember2.length === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          children: \"\\u9078\\u624B\\u304C\\u767B\\u9332\\u3055\\u308C\\u3066\\u3044\\u307E\\u305B\\u3093\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 461,\n          columnNumber: 25\n        }, this), registeredMember2.length !== 0 && enptyArray.map((component, ind) => /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              style: tdStyle2,\n              rowspan: \"2\",\n              children: ind + 1\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 466,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              style: tdStyle2,\n              rowspan: \"2\",\n              children: makePulldown(ind, PositionDB, \"kata\", nowSelected2, setNowSelected2, isInitial2, setIsInitial2)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 467,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              style: tdStyle2,\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                id: \"player_name_hira1\",\n                children: [!isInitial2[ind + 9] && registeredMember2[nowSelected2[ind + 9]].player_name_hira, isInitial2[ind + 9] && \"　\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 471,\n                columnNumber: 54\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 471,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              style: tdStyle2,\n              rowspan: \"2\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                id: \"uniform_number1\",\n                children: [!isInitial2[ind + 9] && registeredMember2[nowSelected2[ind + 9]].uniform_number, isInitial2[ind + 9] && \"　\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 475,\n                columnNumber: 66\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 475,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              style: tdStyle2,\n              rowspan: \"2\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                id: \"grade1\",\n                children: [!isInitial2[ind + 9] && registeredMember2[nowSelected2[ind + 9]].grade, isInitial2[ind + 9] && \"　\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 479,\n                columnNumber: 66\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 479,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              style: tdStyle2,\n              rowspan: \"2\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                id: \"regiSM2\",\n                children: registeredSM2 !== undefined && registeredSM2.some(v => v.batting_order === ind + 1) && registeredSM2.find(v => v.batting_order === ind + 1).position\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 486,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: registeredSM2 !== undefined && registeredSM2.some(v => v.batting_order === ind + 1) && registeredSM2.find(v => v.batting_order === ind + 1).player_name_kanji\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 492,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 483,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 465,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: /*#__PURE__*/_jsxDEV(\"td\", {\n              style: tdStyle2,\n              children: makePulldown(ind + 9, registeredMember2, \"player_name_kanji\", nowSelected2, setNowSelected2, isInitial2, setIsInitial2)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 502,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 501,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 448,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 447,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 511,\n      columnNumber: 21\n    }, this), !isDuplicate(nowSelected) && /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: async () => {\n        var a = await sendSelectedMember(nowSelected, PositionDB, registeredMember1, urlGameId, urlSchoolId, setRegisteredSM1, loadStartingMember);\n        var b = await sendSelectedMember(nowSelected2, PositionDB, registeredMember2, urlGameId, urlSchoolId2, setRegisteredSM2, loadStartingMember);\n        // .then(setUseEffectFlag(!useEffectFlag))\n        if (a + b === 2) {\n          setUseEffectFlag(a + b);\n        }\n      },\n      children: \"\\u767B\\u9332\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 515,\n      columnNumber: 17\n    }, this), isDuplicate(nowSelected) && /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => {\n        tyouhuku(nowSelected, urlSchoolName, nowSelected2, urlSchoolName2);\n      },\n      children: \"\\u767B\\u9332\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 545,\n      columnNumber: 17\n    }, this), registeredSM1 !== undefined && registeredSM1.length >= 9 && registeredSM2 !== undefined && registeredSM2.length >= 9 && /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => PageTransition(\"SokuhoGameStart?urlTournamentId=\" + urlTournamentId + \"&urlTournamentName=\" + urlTournamentName + \"&urlSchoolId=\" + urlSchoolId + \"&urlSchoolName=\" + urlSchoolName + \"&urlSchoolId2=\" + urlSchoolId2 + \"&urlSchoolName2=\" + urlSchoolName2 + \"&urlGameId=\" + urlGameId),\n      children: \"\\u901F\\u5831\\u30DA\\u30FC\\u30B8\\u306B\\u79FB\\u52D5\\u3059\\u308B\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 561,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 578,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 578,\n      columnNumber: 19\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 355,\n    columnNumber: 9\n  }, this);\n};\n_s(StartingMember, \"GFeoba484EuVwzw0Jzhz8kQQe4A=\", false, function () {\n  return [useCookies, useNavigate, useSearchParams];\n});\n_c = StartingMember;\nexport default StartingMember;\nvar _c;\n$RefreshReg$(_c, \"StartingMember\");","map":{"version":3,"names":["React","useState","useEffect","useNavigate","useSearchParams","useCookies","TitleBar","MenuBar","backendUrl","require","routeUrl","Member","PositionDB","tableStyle","border","borderCollapse","textAlign","tdStyle","background","padding","thStyle","color","thStyle2","tdStyle2","loadRegisteredMember","urlTournamentId","urlSchoolId","setRegisteredMember","isEmptyFlag","setIsEmptyFlag","fetch","method","mode","headers","body","JSON","stringify","tournament_id","school_id","then","response","json","data","length","makePulldown","pulldownId","ArrayList","idText","nowSelected","setNowSelected","isInitial1","setIsInitial1","e","slice","target","value","console","log","array2","map","component","ind","tyouhuku","urlSchoolName","nowSelected2","urlSchoolName2","error","i","j","alert","sendSelectedMember","registeredMember","urlGameId","setRegisteredSM","loadStartingMember","returnValue","toSendArray","game_id","position","kata","player_id","uniform_number","grade","handed_hit","handed_throw","batting_order","BA","deleteStartingMember","fetch1","fetch1Result","text","sort","a","b","isDuplicate","TorF","positionNo","MemberNo","v","ind1","u","ind2","StartingMember","cookies","setCookie","removeCookie","navigate","PageTransition","url","initialPulldown","initialTorF","setNowSelected2","isInitial2","setIsInitial2","registeredSM1","setRegisteredSM1","registeredSM2","setRegisteredSM2","useEffectFlag","setUseEffectFlag","enptyArray","searchParams","get","urlTournamentName","urlSchoolId2","initialComponent","player_name_hira","player_name_kanji","registeredMember1","setRegisteredMember1","registeredMember2","setRegisteredMember2","gameStart","CheckSess","sessionID","sess","undefined","some","find"],"sources":["C:/Users/morim/Desktop/my_folder/school/lesson/ensyu/code/team-b-project-output/team-b-project/frontend/src/AllPage/InputAll/Sokuho/SokuhoStartingMember/StartingMember.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { useNavigate, useSearchParams } from \"react-router-dom\";\r\n\r\nimport { useCookies } from 'react-cookie'\r\n\r\nimport { TitleBar } from \"../../../OtherPage/TitleBar/TitleBar\";\r\nimport { MenuBar } from \"../../../OtherPage/optionFunc/MenuBar\"\r\n\r\n//バックエンドのurlを取得\r\nconst backendUrl = require(\"../../../../DB/communication\").backendUrl;\r\n\r\n//フロントの階層urlを取得\r\nconst routeUrl = require(\"../../../../DB/communication\").routeUrl;\r\n\r\nconst { Member } = require(\"../../../../DB/Member\");\r\nconst { PositionDB } = require(\"../../../../DB/Position9DB\")\r\n\r\n\r\nconst tableStyle = {\r\n    border: '1px solid black',\r\n    borderCollapse: 'collapse',\r\n    textAlign: 'center'\r\n}\r\n\r\nconst tdStyle = {\r\n    border: '1px solid #85C1E9',\r\n    background: 'white',\r\n    padding: '5px'\r\n};\r\n\r\nconst thStyle = {\r\n    border: '1px solid #3498DB',\r\n    background: '#3498DB',\r\n    color: 'white'\r\n};\r\n\r\nconst thStyle2 = {\r\n    border: '1px solid #FF3347',\r\n    background: '#FF3347',\r\n    color: 'white'\r\n};\r\n\r\nconst tdStyle2 = {\r\n    border: '1px solid #FF99a3',\r\n    background: 'white',\r\n    padding: '5px'\r\n};\r\n\r\n\r\n//選手を読み込む\r\nconst loadRegisteredMember = (urlTournamentId, urlSchoolId, setRegisteredMember, isEmptyFlag, setIsEmptyFlag) => {\r\n    fetch(backendUrl + \"/member/tournament_member_call\", {\r\n        method: \"POST\",\r\n        mode: \"cors\",\r\n        headers: {\r\n            \"Content-Type\": \"application/json\",\r\n        },\r\n        body: JSON.stringify({ tournament_id: urlTournamentId, school_id: urlSchoolId }),\r\n    })\r\n        .then((response) => response.json())\r\n        .then((data) => {\r\n            if (data.length !== 0) { setIsEmptyFlag(!isEmptyFlag) }\r\n            setRegisteredMember(data)\r\n        })\r\n}\r\n\r\n\r\n\r\n//自作プルダウン\r\nconst makePulldown = (pulldownId, ArrayList, idText, nowSelected, setNowSelected, isInitial1, setIsInitial1) => {\r\n    return (\r\n        <>\r\n            <select id=\"tekitouni\"\r\n                onChange={(e) => {\r\n                    //ステイトが変化すると再描画させるための文、これがないと再描画されない\r\n                    //なお、消すと再描画はされないが内部は変化する\r\n                    nowSelected = nowSelected.slice(0, nowSelected.length);\r\n\r\n                    nowSelected[pulldownId] = e.target.value\r\n                    setNowSelected(nowSelected)\r\n                    console.log(nowSelected)\r\n\r\n                    let array2 = isInitial1.slice(0, isInitial1.length);\r\n                    array2[pulldownId] = false\r\n                    setIsInitial1(array2)\r\n\r\n\r\n                }}>\r\n                <option hidden>選択してください</option>\r\n                {ArrayList.map((component, ind) => (\r\n                    <option value={ind}>{component[idText]}</option>\r\n                ))\r\n                }\r\n            </select>\r\n        </>\r\n\r\n    )\r\n}\r\n\r\nconst tyouhuku = (nowSelected, urlSchoolName, nowSelected2, urlSchoolName2) => {\r\n    //守備位置重複確認\r\n    let error = 0;\r\n    for (let i = 0; i <= 8; i++) {\r\n        for (let j = i + 1; j <= 8; j++) {\r\n            if (nowSelected[i] === nowSelected[j]) {\r\n                alert(urlSchoolName + \"の\" + (i + 1) + \"番打者と\" + (j + 1) + \"番打者の守備位置が重複しています\")\r\n                error++;\r\n                break;\r\n            }\r\n            if (nowSelected2[i] === nowSelected2[j]) {\r\n                alert(urlSchoolName2 + \"の\" + (i + 1) + \"番打者と\" + (j + 1) + \"番打者の守備位置が重複しています\")\r\n                error++;\r\n                break;\r\n            }\r\n        }\r\n        if (error > 0) {\r\n            error = 0;\r\n            break;\r\n        }\r\n    }\r\n    //選手氏名重複確認\r\n    for (let i = 9; i <= 17; i++) {\r\n        for (let j = i + 1; j <= 17; j++) {\r\n            if (nowSelected[i] === nowSelected[j]) {\r\n                alert(urlSchoolName + \"の\" + (i - 8) + \"番打者と\" + (j - 8) + \"番打者の選手氏名が重複しています\")\r\n                error++;\r\n                break;\r\n            }\r\n            if (nowSelected2[i] === nowSelected2[j]) {\r\n                alert(urlSchoolName2 + \"の\" + (i - 8) + \"番打者と\" + (j - 8) + \"番打者の選手氏名が重複しています\")\r\n                error++;\r\n                break;\r\n            }\r\n        }\r\n        if (error > 0) {\r\n            error = 0;\r\n            break;\r\n        }\r\n    }\r\n}\r\n\r\n\r\n// 選んだ選手情報を送信する\r\nconst sendSelectedMember = async (\r\n    nowSelected,\r\n    PositionDB,\r\n    registeredMember,\r\n    urlGameId,\r\n    urlSchoolId,\r\n    setRegisteredSM,\r\n    loadStartingMember\r\n) => {\r\n\r\n    let returnValue = 1\r\n    let toSendArray = await []\r\n\r\n    for (let i = 0; i < 9; i++) {\r\n        toSendArray = await [...toSendArray, {}]\r\n    }\r\n\r\n    for (let i = 0; i < 9; i++) {\r\n        toSendArray[i].game_id = await urlGameId\r\n        toSendArray[i].school_id = await urlSchoolId\r\n        toSendArray[i].position = await PositionDB[nowSelected[i]].kata\r\n        toSendArray[i].player_id = await registeredMember[nowSelected[i + 9]].player_id\r\n        toSendArray[i].uniform_number = await registeredMember[nowSelected[i + 9]].uniform_number\r\n        toSendArray[i].grade = await registeredMember[nowSelected[i + 9]].grade\r\n        toSendArray[i].handed_hit = await registeredMember[nowSelected[i + 9]].handed_hit\r\n        toSendArray[i].handed_throw = await registeredMember[nowSelected[i + 9]].handed_throw\r\n        toSendArray[i].batting_order = await i + 1\r\n        toSendArray[i].BA = await registeredMember[nowSelected[i + 9]].BA\r\n    }\r\n    await console.log(toSendArray)\r\n\r\n    await deleteStartingMember(urlGameId, urlSchoolId)\r\n\r\n    const fetch1 = await fetch(backendUrl + \"/member/starting_member_register\", {\r\n        method: \"POST\",\r\n        mode: \"cors\",\r\n        headers: { \"Content-Type\": \"application/json\", }, body: JSON.stringify(toSendArray),\r\n    })\r\n    const fetch1Result = await fetch1.text()\r\n    await loadStartingMember(urlGameId, urlSchoolId, setRegisteredSM)\r\n\r\n    return returnValue\r\n}\r\n\r\n\r\n//　今のスターティングメンバーを読み込む\r\nconst loadStartingMember = (game_id, school_id, setRegisteredSM) => {\r\n    fetch(backendUrl + \"/member/starting_member_call\", {\r\n        method: \"POST\", mode: \"cors\",\r\n        headers: { \"Content-Type\": \"application/json\", },\r\n        body: JSON.stringify({ game_id: game_id, school_id: school_id }),\r\n    })\r\n        .then((response) => response.json())\r\n        .then((data) => {\r\n            data.sort((a, b) => a.batting_order - b.batting_order)\r\n            setRegisteredSM(data);\r\n        })\r\n}\r\n\r\n//  スターティングメンバーを削除\r\nconst deleteStartingMember = async (game_id, school_id) => {\r\n    await fetch(backendUrl + \"/member/starting_member_delete_batch\", {\r\n        method: \"POST\",\r\n        mode: \"cors\",\r\n        headers: {\r\n            \"Content-Type\": \"application/json\",\r\n        },\r\n        body: JSON.stringify({ game_id: game_id, school_id: school_id }),\r\n    })\r\n        .then((response) => response.text())\r\n        .then((data) => { console.log(data) })\r\n}\r\n\r\n\r\n\r\n// 被りチェック\r\nconst isDuplicate = (nowSelected) => {\r\n    let TorF = false\r\n\r\n    let positionNo = nowSelected.slice(0, 9)\r\n    let MemberNo = nowSelected.slice(9, 18)\r\n\r\n    positionNo.map((v, ind1) => {\r\n        positionNo.map((u, ind2) => {\r\n            if (ind1 !== ind2) {\r\n                if (v === u) {\r\n                    TorF = true\r\n                }\r\n            }\r\n        })\r\n    })\r\n\r\n    MemberNo.map((v, ind1) => {\r\n        MemberNo.map((u, ind2) => {\r\n            if (ind1 !== ind2) {\r\n                if (v === u) {\r\n                    TorF = true\r\n                }\r\n            }\r\n        })\r\n    })\r\n\r\n    return TorF\r\n}\r\n\r\n\r\nconst StartingMember = () => {\r\n\r\n    //クッキー関連\r\n    const [cookies, setCookie, removeCookie] = useCookies();\r\n\r\n    //ページ遷移用\r\n    const navigate = useNavigate()\r\n    const PageTransition = (url) => {\r\n        navigate(url)\r\n    }\r\n\r\n    //プルダウンのための初期値作成\r\n    let initialPulldown = []\r\n    let initialTorF = []\r\n    for (let i = 0; i < 18; i++) {\r\n        initialPulldown = [...initialPulldown, \"0\"]\r\n        initialTorF = [...initialTorF, true]\r\n    }\r\n\r\n    //今選択しているものの内容を監視\r\n    const [nowSelected, setNowSelected] = useState(initialPulldown) //チーム1\r\n    const [nowSelected2, setNowSelected2] = useState(initialPulldown) //チーム2\r\n\r\n    //プルダウンで今初期値かどうかを監視\r\n    const [isInitial1, setIsInitial1] = useState(initialTorF)\r\n    const [isInitial2, setIsInitial2] = useState(initialTorF)\r\n\r\n    //受け取った配列が空でないかを監視\r\n    const [isEmptyFlag, setIsEmptyFlag] = useState(false)\r\n\r\n    //既に登録されている先行チームの選手情報を管理するステイト\r\n    const [registeredSM1, setRegisteredSM1] = useState([])\r\n\r\n    //既に登録されている後攻チームの選手情報を管理するステイト\r\n    const [registeredSM2, setRegisteredSM2] = useState([])\r\n\r\n    //データを再読み込みするためのステイト\r\n    const [useEffectFlag, setUseEffectFlag] = useState(false)\r\n\r\n\r\n    //map関数を使うための空配列作成\r\n    let enptyArray = []\r\n    for (let i = 0; i < 9; i++) {\r\n        enptyArray = [...enptyArray, 0]\r\n    }\r\n\r\n    //urlから値を読み出す\r\n    const [searchParams] = useSearchParams();\r\n    const urlTournamentId = searchParams.get(\"urlTournamentId\")\r\n    const urlTournamentName = searchParams.get(\"urlTournamentName\")\r\n    const urlSchoolId = searchParams.get(\"urlSchoolId\")\r\n    const urlSchoolName = searchParams.get(\"urlSchoolName\")\r\n    const urlSchoolId2 = searchParams.get(\"urlSchoolId2\")\r\n    const urlSchoolName2 = searchParams.get(\"urlSchoolName2\")\r\n    const urlGameId = searchParams.get(\"urlGameId\")\r\n\r\n    //表示するメンバーのステイトのための初期値、これがないと最初にエラーが出る\r\n    const initialComponent = [{\r\n        BA: 0.5,\r\n        grade: 3,\r\n        handed_hit: \"右\",\r\n        handed_throw: \"右\",\r\n        player_id: 2,\r\n        player_name_hira: \"\",\r\n        player_name_kanji: \"\",\r\n        school_id: 1,\r\n        tournament_id: 1,\r\n        uniform_number: 1\r\n    }]\r\n\r\n    //表示するメンバーのステイト定義\r\n    const [registeredMember1, setRegisteredMember1] = useState(initialComponent)\r\n    const [registeredMember2, setRegisteredMember2] = useState(initialComponent)\r\n\r\n    useEffect(() => {\r\n        loadRegisteredMember(urlTournamentId, urlSchoolId, setRegisteredMember1, isEmptyFlag, setIsEmptyFlag)\r\n        loadRegisteredMember(urlTournamentId, urlSchoolId2, setRegisteredMember2, isEmptyFlag, setIsEmptyFlag)\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        // console.log(loadStartingMemberAsync(urlGameId, urlSchoolId))\r\n        loadStartingMember(urlGameId, urlSchoolId, setRegisteredSM1)\r\n        loadStartingMember(urlGameId, urlSchoolId2, setRegisteredSM2)\r\n    }, [useEffectFlag])\r\n\r\n\r\n    //セッション関連\r\n    useEffect(() => {\r\n        const gameStart = async () => {\r\n            const CheckSess = await fetch(backendUrl + \"/auth/check_sess\",\r\n                {\r\n                    method: \"POST\", mode: \"cors\", headers: { \"Content-Type\": \"application/json\", },\r\n                    body: JSON.stringify({ sessionID: cookies.sessionID })\r\n                })\r\n            const sess = await CheckSess.text();\r\n            console.log(sess)\r\n            console.log(cookies.sessionID)\r\n            if (sess === 'logout') {\r\n                PageTransition(routeUrl + \"/login\");\r\n            }\r\n        }\r\n        gameStart()\r\n    }, [])\r\n\r\n    return (\r\n        <div align='center'>\r\n            <TitleBar\r\n                TitleText={\"スタメン選択画面\"}\r\n                PageTransition={PageTransition}\r\n                valueUrl={-1}\r\n            />\r\n            <MenuBar\r\n                menuArray={[\r\n                    {\r\n                        text: \"InputMember\",\r\n                        urlTournamentId: urlTournamentId,\r\n                        urlTournamentName: urlTournamentName,\r\n                        urlSchoolName: urlSchoolName,\r\n                        urlSchoolName2: urlSchoolName2,\r\n                        urlSchoolId: urlSchoolId,\r\n                        urlSchoolId2: urlSchoolId2\r\n                    },\r\n                    {\r\n                        text: \"InputSchool\",\r\n                        urlTournamentId: urlTournamentId,\r\n                        urlTournamentName: urlTournamentName\r\n                    }\r\n                ]}\r\n            />\r\n            <h3>編集中：{urlTournamentName}</h3>\r\n            <div id=\"error\"></div>\r\n            <table style={tableStyle}>\r\n                <tbody>\r\n                    <tr><th colSpan={5}><font size=\"+2\">{urlSchoolName}　</font></th></tr>\r\n                    <tr>\r\n                        <th style={thStyle} rowspan=\"2\">打順</th>\r\n                        <th style={thStyle} rowspan=\"2\">位置</th>\r\n                        <th style={thStyle}>ふりがな</th>\r\n                        <th style={thStyle} rowspan=\"2\">背番号</th>\r\n                        <th style={thStyle} rowspan=\"2\">学年</th>\r\n                        <th style={thStyle} rowspan=\"2\">既登録の選手情報</th>\r\n                    </tr>\r\n                    <tr><th style={thStyle}>選手氏名</th></tr>\r\n\r\n                    {registeredMember1.length === 0 &&\r\n                        <div>選手が登録されていません</div>\r\n                    }\r\n\r\n                    {registeredMember1.length !== 0 && enptyArray.map((component, ind) => (\r\n                        <>\r\n                            <tr>\r\n                                <td style={tdStyle} rowspan=\"2\">{ind + 1}</td>\r\n                                <td style={tdStyle} rowspan=\"2\">\r\n\r\n                                    {makePulldown(ind, PositionDB, \"kata\", nowSelected, setNowSelected, isInitial1, setIsInitial1)}\r\n                                </td>\r\n                                <td style={tdStyle}><div id=\"player_name_hira1\">\r\n                                    {!isInitial1[ind + 9] && registeredMember1[nowSelected[ind + 9]].player_name_hira}\r\n                                    {isInitial1[ind + 9] && \"　\"}\r\n                                </div></td>\r\n                                <td style={tdStyle} rowspan=\"2\"><div id=\"uniform_number1\">\r\n                                    {!isInitial1[ind + 9] && registeredMember1[nowSelected[ind + 9]].uniform_number}\r\n                                    {isInitial1[ind + 9] && \"　\"}\r\n                                </div></td>\r\n                                <td style={tdStyle} rowspan=\"2\"><div id=\"grade1\">\r\n                                    {!isInitial1[ind + 9] && registeredMember1[nowSelected[ind + 9]].grade}\r\n                                    {isInitial1[ind + 9] && \"　\"}\r\n                                </div></td>\r\n                                <td style={tdStyle} rowspan=\"2\">\r\n                                    {/* 既登録の選手情報 */}\r\n                                    <div >\r\n                                        {(registeredSM1 !== undefined) &&\r\n                                            registeredSM1.some((v) => v.batting_order === ind + 1) &&\r\n                                            registeredSM1.find((v) => v.batting_order === ind + 1).position\r\n                                        }\r\n                                    </div>\r\n                                    <div>\r\n                                        {(registeredSM1 !== undefined) &&\r\n                                            registeredSM1.some((v) => v.batting_order === ind + 1) &&\r\n                                            registeredSM1.find((v) => v.batting_order === ind + 1).player_name_kanji\r\n                                        }\r\n                                    </div>\r\n                                </td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td style={tdStyle}>\r\n                                    {makePulldown(ind + 9, registeredMember1, \"player_name_kanji\", nowSelected, setNowSelected, isInitial1, setIsInitial1)}\r\n                                </td>\r\n                            </tr>\r\n                        </>\r\n                    ))\r\n                    }\r\n\r\n                </tbody>\r\n            </table><br />\r\n\r\n\r\n            <table style={tableStyle}>\r\n                <tbody>\r\n                    <tr><th colSpan={5}><font size=\"+2\">{urlSchoolName2}　</font></th></tr>\r\n                    <tr>\r\n                        <th style={thStyle2} rowspan=\"2\">打順</th>\r\n                        <th style={thStyle2} rowspan=\"2\">位置</th>\r\n                        <th style={thStyle2}>ふりがな</th>\r\n                        <th style={thStyle2} rowspan=\"2\">背番号</th>\r\n                        <th style={thStyle2} rowspan=\"2\">学年</th>\r\n                        <th style={thStyle2} rowspan=\"2\">既登録の選手情報</th>\r\n                    </tr>\r\n                    <tr><th style={thStyle2}>選手氏名</th></tr>\r\n\r\n                    {registeredMember2.length === 0 &&\r\n                        <div>選手が登録されていません</div>\r\n                    }\r\n                    {registeredMember2.length !== 0 && enptyArray.map((component, ind) => (\r\n                        <>\r\n                            <tr>\r\n                                <td style={tdStyle2} rowspan=\"2\">{ind + 1}</td>\r\n                                <td style={tdStyle2} rowspan=\"2\">\r\n\r\n                                    {makePulldown(ind, PositionDB, \"kata\", nowSelected2, setNowSelected2, isInitial2, setIsInitial2)}\r\n                                </td>\r\n                                <td style={tdStyle2}><div id=\"player_name_hira1\">\r\n                                    {!isInitial2[ind + 9] && registeredMember2[nowSelected2[ind + 9]].player_name_hira}\r\n                                    {isInitial2[ind + 9] && \"　\"}\r\n                                </div></td>\r\n                                <td style={tdStyle2} rowspan=\"2\"><div id=\"uniform_number1\">\r\n                                    {!isInitial2[ind + 9] && registeredMember2[nowSelected2[ind + 9]].uniform_number}\r\n                                    {isInitial2[ind + 9] && \"　\"}\r\n                                </div></td>\r\n                                <td style={tdStyle2} rowspan=\"2\"><div id=\"grade1\">\r\n                                    {!isInitial2[ind + 9] && registeredMember2[nowSelected2[ind + 9]].grade}\r\n                                    {isInitial2[ind + 9] && \"　\"}\r\n                                </div></td>\r\n                                <td style={tdStyle2} rowspan=\"2\">\r\n\r\n                                    {/* 既登録の選手情報 */}\r\n                                    <div id=\"regiSM2\">\r\n                                        {(registeredSM2 !== undefined) &&\r\n                                            registeredSM2.some((v) => v.batting_order === ind + 1) &&\r\n                                            registeredSM2.find((v) => v.batting_order === ind + 1).position\r\n                                        }\r\n                                    </div>\r\n                                    <div>\r\n                                        {(registeredSM2 !== undefined) &&\r\n                                            registeredSM2.some((v) => v.batting_order === ind + 1) &&\r\n                                            registeredSM2.find((v) => v.batting_order === ind + 1).player_name_kanji\r\n                                        }\r\n                                    </div>\r\n                                </td>\r\n\r\n                            </tr>\r\n                            <tr>\r\n                                <td style={tdStyle2}>\r\n                                    {makePulldown(ind + 9, registeredMember2, \"player_name_kanji\", nowSelected2, setNowSelected2, isInitial2, setIsInitial2)}\r\n                                </td>\r\n                            </tr>\r\n                        </>\r\n                    ))\r\n                    }\r\n\r\n                </tbody>\r\n            </table><br />\r\n\r\n\r\n            {!isDuplicate(nowSelected) &&\r\n                <button onClick={async () => {\r\n\r\n                    var a = await sendSelectedMember(\r\n                        nowSelected,\r\n                        PositionDB,\r\n                        registeredMember1,\r\n                        urlGameId,\r\n                        urlSchoolId,\r\n                        setRegisteredSM1,\r\n                        loadStartingMember\r\n                    )\r\n\r\n                    var b = await sendSelectedMember(\r\n                        nowSelected2,\r\n                        PositionDB,\r\n                        registeredMember2,\r\n                        urlGameId,\r\n                        urlSchoolId2,\r\n                        setRegisteredSM2,\r\n                        loadStartingMember\r\n                    )\r\n                    // .then(setUseEffectFlag(!useEffectFlag))\r\n                    if (a + b === 2) {\r\n                        setUseEffectFlag(a + b)\r\n                    }\r\n\r\n                }}>登録</button>\r\n            }\r\n\r\n            {isDuplicate(nowSelected) &&\r\n                <button onClick={() => {\r\n                    tyouhuku(\r\n                        nowSelected,\r\n                        urlSchoolName,\r\n                        nowSelected2,\r\n                        urlSchoolName2\r\n                    )\r\n                }}>登録</button>\r\n            }\r\n\r\n            {/* ページ遷移ボタン */}\r\n            {\r\n                (registeredSM1 !== undefined) &&\r\n                registeredSM1.length >= 9 &&\r\n                (registeredSM2 !== undefined) &&\r\n                registeredSM2.length >= 9 &&\r\n                <button onClick={() => PageTransition(\r\n                    \"SokuhoGameStart?urlTournamentId=\" +\r\n                    urlTournamentId +\r\n                    \"&urlTournamentName=\" +\r\n                    urlTournamentName +\r\n                    \"&urlSchoolId=\" +\r\n                    urlSchoolId +\r\n                    \"&urlSchoolName=\" +\r\n                    urlSchoolName +\r\n                    \"&urlSchoolId2=\" +\r\n                    urlSchoolId2 +\r\n                    \"&urlSchoolName2=\" +\r\n                    urlSchoolName2 +\r\n                    \"&urlGameId=\" +\r\n                    urlGameId\r\n                )}>速報ページに移動する</button>\r\n            }\r\n            <br /><br />\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default StartingMember"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}
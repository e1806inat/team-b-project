{"ast":null,"code":"import _defineProperty from\"C:/Users/morim/Desktop/my_folder/school/lesson/ensyu/code/team-b-project/frontend/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"C:/Users/morim/Desktop/my_folder/school/lesson/ensyu/code/team-b-project/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/Users/morim/Desktop/my_folder/school/lesson/ensyu/code/team-b-project/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Login=function Login(){var initialValues={loginID:\"test\",password:\"123456789\"};var _useState=useState(initialValues),_useState2=_slicedToArray(_useState,2),formValues=_useState2[0],setFormValues=_useState2[1];var _useState3=useState({}),_useState4=_slicedToArray(_useState3,2),formErrors=_useState4[0],setFormErrors=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),isSubmit=_useState6[0],setIsSubmit=_useState6[1];var handleChande=function handleChande(e){//console.log(e.target.value);\nvar _e$target=e.target,name=_e$target.name,value=_e$target.value;setFormValues(_objectSpread(_objectSpread({},formValues),{},_defineProperty({},name,value)));//console.log(formValues);\n};var handleSubmit=function handleSubmit(e){e.preventDefault();//ログイン情報を送信する\n//バリデーションチェック\nsetFormErrors(validate(formValues));setIsSubmit(true);console.log(formValues);};var validate=function validate(values){var errors={};if(!values.loginID){errors.loginID=\"ログイン名を入力してください。\";}if(!values.password){errors.password=\"パスワードを入力してください。\";}else if(values.password.length<4){errors.password=\"4文字以上15文字以下のパスワードを入力してください\";}else if(values.password.length>15){errors.password=\"4文字以上15文字以下のパスワードを入力してください\";}return errors;};var syougou=function syougou(data){console.log(data.id);if(data.id===\"OK\"){window.location.href='/home';}};var handleLogin=function handleLogin(){fetch(\"http://localhost:5000/auth/login\",{method:\"POST\",mode:\"cors\",headers:{\"Content-Type\":\"application/json\"},//body: JSON.stringify({ email:login_id , password:login_ps }),\n//body: JSON.stringify({ email:login_id , password:login_ps }),\nbody:JSON.stringify({user_name:formValues.loginID,password:formValues.password})}).then(function(response){return response.json();}).then(function(data){return syougou(data);});};return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"div\",{className:\"formContainer\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:function onSubmit(e){return handleSubmit(e);},children:[/*#__PURE__*/_jsx(\"h1\",{children:\"\\u30ED\\u30B0\\u30A4\\u30F3\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"uiform\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"formField\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"\\u30ED\\u30B0\\u30A4\\u30F3\\u540D\",name:\"loginID\",onChange:function onChange(e){return handleChande(e);}}),/*#__PURE__*/_jsx(\"p\",{className:\"errorMsg\",children:formErrors.loginID})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"formField\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"\\u30D1\\u30B9\\u30EF\\u30FC\\u30C9\",name:\"password\",onChange:function onChange(e){return handleChande(e);}}),/*#__PURE__*/_jsx(\"p\",{className:\"errorMsg\",children:formErrors.password})]})]}),/*#__PURE__*/_jsx(\"button\",{className:\"submitButton\",onClick:handleLogin,children:\"\\u30A2\\u30AB\\u30A6\\u30F3\\u30C8\\u60C5\\u5831\\u3092\\u9001\\u4FE1\"}),Object.keys(formErrors).length===0&&isSubmit&&/*#__PURE__*/_jsx(\"div\",{className:\"MsgOk\",children:\"\\u7167\\u5408\\u4E2D\\u3067\\u3059\"})]})]})})});};export default Login;","map":{"version":3,"names":["React","useState","Login","initialValues","loginID","password","formValues","setFormValues","formErrors","setFormErrors","isSubmit","setIsSubmit","handleChande","e","target","name","value","handleSubmit","preventDefault","validate","console","log","values","errors","length","syougou","data","id","window","location","href","handleLogin","fetch","method","mode","headers","body","JSON","stringify","user_name","then","response","json","Object","keys"],"sources":["C:/Users/morim/Desktop/my_folder/school/lesson/ensyu/code/team-b-project/frontend/src/AllPage/LogInPage/Login.jsx"],"sourcesContent":["import React, { useState } from 'react';\r\n\r\nconst Login = () => {\r\n\r\n\r\n  const initialValues = { loginID: \"test\", password: \"123456789\" };\r\n  const [formValues, setFormValues] = useState(initialValues);\r\n  const [formErrors, setFormErrors] = useState({});\r\n  const [isSubmit, setIsSubmit] = useState(false);\r\n\r\n  const handleChande = (e) => {\r\n    //console.log(e.target.value);\r\n    const { name, value } = e.target;\r\n    setFormValues({ ...formValues, [name]: value });\r\n    //console.log(formValues);\r\n  };\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    //ログイン情報を送信する\r\n    //バリデーションチェック\r\n    setFormErrors(validate(formValues));\r\n    setIsSubmit(true);\r\n    console.log(formValues);\r\n  };\r\n\r\n  const validate = (values) => {\r\n    const errors = {};\r\n\r\n    if (!values.loginID) {\r\n      errors.loginID = \"ログイン名を入力してください。\";\r\n    }\r\n    if (!values.password) {\r\n      errors.password = \"パスワードを入力してください。\";\r\n    }\r\n    else if (values.password.length < 4) {\r\n      errors.password = \"4文字以上15文字以下のパスワードを入力してください\";\r\n    }\r\n    else if (values.password.length > 15) {\r\n      errors.password = \"4文字以上15文字以下のパスワードを入力してください\";\r\n    }\r\n    return errors;\r\n  };\r\n\r\n\r\n\r\n  const syougou = (data) => {\r\n    console.log(data.id)\r\n    if (data.id === \"OK\") {\r\n      window.location.href = '/home'\r\n    }\r\n  }\r\n\r\n\r\n\r\n\r\n  const handleLogin = () => {\r\n\r\n    fetch(\"http://localhost:5000/auth/login\", {\r\n      method: \"POST\",\r\n      mode: \"cors\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      //body: JSON.stringify({ email:login_id , password:login_ps }),\r\n      //body: JSON.stringify({ email:login_id , password:login_ps }),\r\n      body: JSON.stringify({ user_name: formValues.loginID, password: formValues.password }),\r\n    })\r\n      .then((response) => response.json())\r\n      .then((data) => syougou(data))\r\n  }\r\n\r\n\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"formContainer\">\r\n        <form onSubmit={(e) => handleSubmit(e)}>\r\n          <h1>ログイン</h1>\r\n\r\n          <div className=\"uiform\">\r\n            <div className=\"form\">\r\n              <div className=\"formField\">\r\n                <input type=\"text\"\r\n                  placeholder=\"ログイン名\"\r\n                  name=\"loginID\"\r\n                  onChange={(e) => handleChande(e)}\r\n                />\r\n                <p className=\"errorMsg\">{formErrors.loginID}</p>\r\n              </div>\r\n              <div className=\"formField\">\r\n                <input type=\"text\"\r\n                  placeholder=\"パスワード\"\r\n                  name=\"password\"\r\n                  onChange={(e) => handleChande(e)}\r\n                />\r\n                <p className=\"errorMsg\">{formErrors.password}</p>\r\n              </div>\r\n            </div>\r\n            <button className=\"submitButton\" onClick={handleLogin}>アカウント情報を送信</button>\r\n            {Object.keys(formErrors).length === 0 && isSubmit && (\r\n              <div className=\"MsgOk\">照合中です</div>\r\n            )}\r\n          </div>\r\n        </form>\r\n      </div>\r\n\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Login;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}
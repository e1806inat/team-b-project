{"ast":null,"code":"import _slicedToArray from\"C:/Users/morim/Desktop/my_folder/school/lesson/ensyu/code/team-b-project/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _toConsumableArray from\"C:/Users/morim/Desktop/my_folder/school/lesson/ensyu/code/team-b-project/frontend/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import React,{useState,useEffect,useRef}from\"react\";import{useSearchParams}from\"react-router-dom\";import{myIndexOf}from\"./functions/myIndexOf\";import\"./InputMember.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var loadMember=function loadMember(uniformNumberArray,setUniformNumberArray,urlTournamentId,urlSchoolId,setCopyMember,selectedMember,setSelectedMember,isInitial){//高校に所属する3年生以下の人間を全員呼び出す\nfetch(\"http://localhost:5000/member/member_call\",{method:\"POST\",mode:\"cors\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({school_id:urlSchoolId})}).then(function(response){return response.json();}).then(function(allUnder3MemberData){setCopyMember(allUnder3MemberData);console.log(allUnder3MemberData);//初回レンダリング時のみ実行\nif(isInitial===true){fetch(\"http://localhost:5000/member/tournament_member_call\",{method:\"POST\",mode:\"cors\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({tournament_id:urlTournamentId,school_id:urlSchoolId})}).then(function(response){return response.json();}).then(function(selectedMembersData){var tempSelectedMember=[];var tempUniformNumber=[];tempUniformNumber=tempUniformNumber.slice(0,tempUniformNumber.length);console.log(selectedMembersData);if(allUnder3MemberData.length!==0){allUnder3MemberData.map(function(allUnder3Member,index){tempSelectedMember=[].concat(_toConsumableArray(tempSelectedMember),[false]);tempUniformNumber=[].concat(_toConsumableArray(tempUniformNumber),[1]);for(var i=0;i<selectedMembersData.length;i++){if(selectedMembersData[i].player_id===allUnder3Member.player_id){tempSelectedMember[index]=true;}}});selectedMembersData.map(function(selectedMember,ind){tempUniformNumber[ind]=selectedMember.uniform_number;});}setCheck(allUnder3MemberData,tempSelectedMember,setSelectedMember);console.log(tempUniformNumber);setUniformNumberArray(tempUniformNumber);});}else{setCheck(allUnder3MemberData,selectedMember,setSelectedMember);}if(uniformNumberArray[0]==null){var _Array=[1];for(var i=1;i<allUnder3MemberData.length;i++){_Array=[].concat(_toConsumableArray(_Array),[1]);}uniformNumberArray=_Array;console.log(\"aaaaa\");setUniformNumberArray(uniformNumberArray);}});};var _require=require(\"../../../../DB/Schools\"),Schools=_require.Schools;//分割代入\n//const { Member } = require(\"../../../../DB/Member\")\nvar Member=[{}];var setCheck=function setCheck(copyMember,selectedMember,setSelectedMember){var copyArray=[];var beforeChecked=selectedMember;for(var i=0;i<copyMember.length;i++){copyArray=[].concat(_toConsumableArray(copyArray),[false]);}if(beforeChecked.length!==0){for(var _i=0;_i<beforeChecked.length;_i++){copyArray[_i]=beforeChecked[_i];}}setSelectedMember(copyArray);};//背番号\nvar setBacknumber=function setBacknumber(copyMember,setCopyMember){for(var i=0;i<copyMember.length;i++){copyMember[i].uniform_number=1;}setCopyMember(copyMember);};var makePulldownBN=function makePulldownBN(ind,uniformNumberArray,setUniformNumberArray){//そのためにループしたい数と同じ長さの配列を作る\nvar nullArray=[0];for(var i=1;i<50;i++){nullArray=[].concat(_toConsumableArray(nullArray),[i]);}return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"select\",{id:\"fruit\",onChange:function onChange(e){console.log(e.target.value+\"_\"+ind);var copyUniformNumberArray=uniformNumberArray;copyUniformNumberArray=copyUniformNumberArray.slice(0,copyUniformNumberArray.length);copyUniformNumberArray[ind]=e.target.value;setUniformNumberArray(copyUniformNumberArray);},children:[/*#__PURE__*/_jsx(\"option\",{value:0,children:\"\\u80CC\\u756A\\u53F7\\u3092\\u5909\\u66F4\\u3059\\u308B\"}),nullArray.map(function(component,ind){return/*#__PURE__*/_jsx(\"option\",{value:ind+1,children:ind+1});})]})});};var handleSousin=function handleSousin(copyMember,selectedMember,urlTournamentId,uniformNumberArray){var sendArray=copyMember;for(var i=0;i<sendArray.length;i++){delete sendArray[i].hit_num;delete sendArray[i].bat_num;sendArray[i].tournament_id=urlTournamentId;sendArray[i].uniform_number=uniformNumberArray[i];}//選択したものだけの配列を作る\nvar sendArray2=[];sendArray.map(function(component,ind){if(selectedMember[ind]===true)sendArray2=[].concat(_toConsumableArray(sendArray2),[sendArray[ind]]);});console.log(sendArray2);fetch(\"http://localhost:5000/member/tournament_member_register\",{method:\"POST\",mode:\"cors\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(sendArray2)});};var lordRegisteredMember=function lordRegisteredMember(urlTournamentId,urlSchoolId){fetch(\"http://localhost:5000/member/tournament_member_call\",{method:\"POST\",mode:\"cors\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({tournament_id:urlTournamentId,school_id:urlSchoolId})}).then(function(response){return response.json();}).then(function(data){console.log(data);});};var selectHitted=function selectHitted(handedHitState,handleHandedHit){if(handedHitState===\"左\"){return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"button\",{style:{color:\"white\",background:\"lightskyblue\"},children:\"\\u5DE6\\u6253\"}),/*#__PURE__*/_jsx(\"button\",{style:{color:\"white\",background:\"mediumblue\"},onClick:function onClick(){return handleHandedHit(\"右\");},children:\"\\u53F3\\u6253\"}),/*#__PURE__*/_jsx(\"button\",{style:{color:\"white\",background:\"mediumblue\"},onClick:function onClick(){return handleHandedHit(\"両\");},children:\"\\u4E21\\u6253\"})]});}else if(handedHitState===\"右\"){return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"button\",{style:{color:\"white\",background:\"mediumblue\"},onClick:function onClick(){return handleHandedHit(\"左\");},children:\"\\u5DE6\\u6253\"}),/*#__PURE__*/_jsx(\"button\",{style:{color:\"white\",background:\"lightskyblue\"},children:\"\\u53F3\\u6253\"}),/*#__PURE__*/_jsx(\"button\",{style:{color:\"white\",background:\"mediumblue\"},onClick:function onClick(){return handleHandedHit(\"両\");},children:\"\\u4E21\\u6253\"})]});}else if(handedHitState===\"両\"){return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"button\",{style:{color:\"white\",background:\"mediumblue\"},onClick:function onClick(){return handleHandedHit(\"左\");},children:\"\\u5DE6\\u6253\"}),/*#__PURE__*/_jsx(\"button\",{style:{color:\"white\",background:\"mediumblue\"},onClick:function onClick(){return handleHandedHit(\"右\");},children:\"\\u53F3\\u6253\"}),/*#__PURE__*/_jsx(\"button\",{style:{color:\"white\",background:\"lightskyblue\"},children:\"\\u4E21\\u6253\"})]});}};var selectThrowed=function selectThrowed(handedThrowState,handleHandedThrow){if(handedThrowState===\"左\"){return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"button\",{style:{color:\"white\",background:\"lightskyblue\"},children:\"\\u5DE6\\u6295\"}),/*#__PURE__*/_jsx(\"button\",{style:{color:\"white\",background:\"mediumblue\"},onClick:function onClick(){return handleHandedThrow(\"右\");},children:\"\\u53F3\\u6295\"}),/*#__PURE__*/_jsx(\"button\",{style:{color:\"white\",background:\"mediumblue\"},onClick:function onClick(){return handleHandedThrow(\"両\");},children:\"\\u4E21\\u6295\"})]});}else if(handedThrowState===\"右\"){return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"button\",{style:{color:\"white\",background:\"mediumblue\"},onClick:function onClick(){return handleHandedThrow(\"左\");},children:\"\\u5DE6\\u6295\"}),/*#__PURE__*/_jsx(\"button\",{style:{color:\"white\",background:\"lightskyblue\"},children:\"\\u53F3\\u6253\"}),/*#__PURE__*/_jsx(\"button\",{style:{color:\"white\",background:\"mediumblue\"},onClick:function onClick(){return handleHandedThrow(\"両\");},children:\"\\u4E21\\u6295\"})]});}else if(handedThrowState===\"両\"){return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"button\",{style:{color:\"white\",background:\"mediumblue\"},onClick:function onClick(){return handleHandedThrow(\"左\");},children:\"\\u5DE6\\u6295\"}),/*#__PURE__*/_jsx(\"button\",{style:{color:\"white\",background:\"mediumblue\"},onClick:function onClick(){return handleHandedThrow(\"右\");},children:\"\\u53F3\\u6295\"}),/*#__PURE__*/_jsx(\"button\",{style:{color:\"white\",background:\"lightskyblue\"},children:\"\\u4E21\\u6253\"})]});}};export var InputMember=function InputMember(){var ining=1;var number=1;var iningRef=useRef(null);var numberRef=useRef(null);var nameKanjiRef=useRef(null);var nameHiraRef=useRef(null);var _useState=useState(ining),_useState2=_slicedToArray(_useState,2),iningState=_useState2[0],setIningState=_useState2[1];var _useState3=useState(1),_useState4=_slicedToArray(_useState3,2),schoolState=_useState4[0],setSchoolState=_useState4[1];var _useState5=useState(1),_useState6=_slicedToArray(_useState5,2),numberState=_useState6[0],setNumberState=_useState6[1];var _useState7=useState(\"左\"),_useState8=_slicedToArray(_useState7,2),handedHitState=_useState8[0],setHandedHitState=_useState8[1];var _useState9=useState(\"左\"),_useState10=_slicedToArray(_useState9,2),handedThrowState=_useState10[0],setHandedThrowState=_useState10[1];//メンバーを選択しているかどうかのフラグをつくる\nvar copyArray=[false];var _useState11=useState(copyArray),_useState12=_slicedToArray(_useState11,2),selectedMember=_useState12[0],setSelectedMember=_useState12[1];//urlから値を取得\nvar _useSearchParams=useSearchParams(),_useSearchParams2=_slicedToArray(_useSearchParams,1),searchParams=_useSearchParams2[0];var urlTournamentId=searchParams.get(\"urlTournamentId\");var urlTournamentName=searchParams.get(\"urlTournamentName\");var urlSchoolId=searchParams.get(\"urlSchoolId\");var urlSchoolName=searchParams.get(\"urlSchoolName\");//背番号を格納する配列\nvar _useState13=useState([null]),_useState14=_slicedToArray(_useState13,2),uniformNumberArray=_useState14[0],setUniformNumberArray=_useState14[1];//クリック時メンバー選択\nvar handleSelected=function handleSelected(ind){copyArray=selectedMember.slice(0,selectedMember.length);// stateの配列をコピー(値渡し)\ncopyArray[ind]=!copyArray[ind];setSelectedMember(copyArray);};var _useState15=useState(Member),_useState16=_slicedToArray(_useState15,2),copyMember=_useState16[0],setCopyMember=_useState16[1];var initialSetIning=function initialSetIning(){for(var i=1;i<=3;i++){var option=document.createElement('option');option.value=i;option.text=i;iningRef.current.appendChild(option);}};var initialSetNumber=function initialSetNumber(){for(var i=1;i<=50;i++){var option=document.createElement('option');option.value=i;option.text=i;numberRef.current.appendChild(option);}};useEffect(function(){initialSetIning();initialSetNumber();loadMember(uniformNumberArray,setUniformNumberArray,urlTournamentId,urlSchoolId,setCopyMember,selectedMember,setSelectedMember,true);//明日のメモ\n//選手を追加すると、ロードしなおすため背番号が消えてしまう。\n//だから、copymemberとは別の配列を用意してそこに記録する\n//選手を追加する場合は下から出てくる\n//あと選手の送信も訂正すること\nlordRegisteredMember(urlTournamentId,urlSchoolId);},[]);var selectIning=function selectIning(e){setIningState(e.target.value);};var selectNumber=function selectNumber(e){setNumberState(e.target.value);};var selectSchool=function selectSchool(e){setSchoolState(e.target.value);};var handleHandedHit=function handleHandedHit(value){setHandedHitState(value);};var handleHandedThrow=function handleHandedThrow(value){setHandedThrowState(value);};var handleMembers=function handleMembers(uniformNumberArray,setUniformNumberArray){var Array=[{\"school_id\":urlSchoolId,\"player_name_kanji\":nameKanjiRef.current.value,\"player_name_hira\":nameHiraRef.current.value,\"uniform_number\":numberRef.current.value,\"grade\":iningRef.current.value,\"handed_hit\":handedHitState,\"handed_throw\":handedThrowState,\"BA\":0,\"bat_num\":0,\"hit_num\":0}];console.log(Array);fetch(\"http://localhost:5000/member/member_register\",{method:\"POST\",mode:\"cors\",headers:{\"Content-Type\":\"application/json\"},//body: JSON.stringify({ email:login_id , password:login_ps }),\nbody:JSON.stringify(Array)}).then(function(response){return response.text();}).then(function(data){if(data===\"OK\"){var copyUniformNumberArray=uniformNumberArray;copyUniformNumberArray=copyUniformNumberArray.slice(0,copyUniformNumberArray.length);console.log(numberRef.current.value);setUniformNumberArray([].concat(_toConsumableArray(copyUniformNumberArray),[numberRef.current.value]));console.log([].concat(_toConsumableArray(uniformNumberArray),[numberRef.current.value]));loadMember(uniformNumberArray,setUniformNumberArray,urlTournamentId,urlSchoolId,setCopyMember,selectedMember,setSelectedMember,false);}});};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"h1\",{children:[\"\\u9078\\u624B\\u767B\\u9332\\u753B\\u9762\",/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){handleSousin(copyMember,selectedMember,urlTournamentId,uniformNumberArray);},children:\"\\u9001\\u4FE1\"})]}),/*#__PURE__*/_jsx(\"h3\",{children:urlTournamentName}),/*#__PURE__*/_jsxs(\"h4\",{children:[\"\\u7DE8\\u96C6\\u4E2D:\",urlSchoolName]}),/*#__PURE__*/_jsxs(\"div\",{className:\"toroku\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"MakeGame\",children:[/*#__PURE__*/_jsx(\"br\",{}),\"\\u5B66\\u5E74\",/*#__PURE__*/_jsx(\"select\",{ref:iningRef,value:iningState,onChange:selectIning}),\"\\xA0 \\u80CC\\u756A\\u53F7\",/*#__PURE__*/_jsx(\"select\",{ref:numberRef,value:numberState,onChange:selectNumber}),\"\\xA0\\xA0\",selectHitted(handedHitState,handleHandedHit),/*#__PURE__*/_jsx(\"br\",{}),\"\\u540D\\u524D\\uFF08\\u6F22\\u5B57\\uFF09\\u3000\",/*#__PURE__*/_jsx(\"input\",{ref:nameKanjiRef}),\"\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\",selectThrowed(handedThrowState,handleHandedThrow),/*#__PURE__*/_jsx(\"br\",{}),\"\\u540D\\u524D\\uFF08\\u3072\\u3089\\u304C\\u306A\\uFF09\\u3000\",/*#__PURE__*/_jsx(\"input\",{ref:nameHiraRef}),\" \\xA0 \\xA0\",/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return handleMembers(uniformNumberArray,setUniformNumberArray);},children:\"\\u8FFD\\u52A0\"}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){console.log(uniformNumberArray);},children:\"\\u30D7\\u30EB\\u30C0\\u30A6\\u30F3\\u30C6\\u30B9\\u30C8\\u30DC\\u30BF\\u30F3\"})]}),/*#__PURE__*/_jsx(\"hr\",{})]}),console.log(uniformNumberArray),/*#__PURE__*/_jsx(\"div\",{className:\"hyoji\",children:/*#__PURE__*/_jsx(\"div\",{className:\"players\",children:copyMember.map(function(member,ind){return/*#__PURE__*/_jsxs(\"div\",{className:\"school\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:function onClick(){return handleSelected(ind);},className:\"InputMember\"+selectedMember[ind],children:[member.player_name_hira,\" \\xA0 \",member.grade,\"\\u5E74 \\xA0\",\"\\xA0 \",member.handed_hit,\"\\u6253 \\xA0 \",member.handed_throw,\"\\u6295 \\xA0 \\u80CC\\u756A\\u53F7:\",uniformNumberArray[ind],/*#__PURE__*/_jsx(\"hr\",{}),member.player_name_kanji]}),makePulldownBN(ind,uniformNumberArray,setUniformNumberArray),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{})]});})})})]});};export default InputMember;","map":{"version":3,"names":["React","useState","useEffect","useRef","useSearchParams","myIndexOf","loadMember","uniformNumberArray","setUniformNumberArray","urlTournamentId","urlSchoolId","setCopyMember","selectedMember","setSelectedMember","isInitial","fetch","method","mode","headers","body","JSON","stringify","school_id","then","response","json","allUnder3MemberData","console","log","tournament_id","selectedMembersData","tempSelectedMember","tempUniformNumber","slice","length","map","allUnder3Member","index","i","player_id","ind","uniform_number","setCheck","Array","require","Schools","Member","copyMember","copyArray","beforeChecked","setBacknumber","makePulldownBN","nullArray","e","target","value","copyUniformNumberArray","component","handleSousin","sendArray","hit_num","bat_num","sendArray2","lordRegisteredMember","data","selectHitted","handedHitState","handleHandedHit","color","background","selectThrowed","handedThrowState","handleHandedThrow","InputMember","ining","number","iningRef","numberRef","nameKanjiRef","nameHiraRef","iningState","setIningState","schoolState","setSchoolState","numberState","setNumberState","setHandedHitState","setHandedThrowState","searchParams","get","urlTournamentName","urlSchoolName","handleSelected","initialSetIning","option","document","createElement","text","current","appendChild","initialSetNumber","selectIning","selectNumber","selectSchool","handleMembers","member","player_name_hira","grade","handed_hit","handed_throw","player_name_kanji"],"sources":["C:/Users/morim/Desktop/my_folder/school/lesson/ensyu/code/team-b-project/frontend/src/AllPage/InputAll/PreInput/InputMemberPage/InputMember.jsx"],"sourcesContent":["import React, { useState, useEffect, useRef } from \"react\"\r\nimport { useSearchParams } from \"react-router-dom\";\r\nimport { myIndexOf } from \"./functions/myIndexOf\";\r\nimport \"./InputMember.css\"\r\n\r\n\r\n\r\nconst loadMember = (uniformNumberArray, setUniformNumberArray, urlTournamentId, urlSchoolId, setCopyMember, selectedMember, setSelectedMember, isInitial) => {\r\n    //高校に所属する3年生以下の人間を全員呼び出す\r\n    fetch(\"http://localhost:5000/member/member_call\", {\r\n        method: \"POST\",\r\n        mode: \"cors\",\r\n        headers: {\r\n            \"Content-Type\": \"application/json\",\r\n        },\r\n        body: JSON.stringify({ school_id: urlSchoolId }),\r\n    })\r\n        .then((response) => response.json())\r\n        .then((allUnder3MemberData) => {\r\n            setCopyMember(allUnder3MemberData);\r\n            console.log(allUnder3MemberData)\r\n\r\n            //初回レンダリング時のみ実行\r\n            if (isInitial === true) {\r\n                fetch(\"http://localhost:5000/member/tournament_member_call\", {\r\n                    method: \"POST\",\r\n                    mode: \"cors\",\r\n                    headers: {\r\n                        \"Content-Type\": \"application/json\",\r\n                    },\r\n                    body: JSON.stringify({ tournament_id: urlTournamentId, school_id: urlSchoolId }),\r\n                })\r\n                    .then((response) => response.json())\r\n                    .then((selectedMembersData) => {\r\n\r\n                        let tempSelectedMember = []\r\n                        let tempUniformNumber = []\r\n                        tempUniformNumber = tempUniformNumber.slice(0, tempUniformNumber.length)\r\n\r\n                        console.log(selectedMembersData)\r\n\r\n                        if (allUnder3MemberData.length !== 0) {\r\n                            allUnder3MemberData.map((allUnder3Member, index) => {\r\n\r\n                                tempSelectedMember = [...tempSelectedMember, false]\r\n                                tempUniformNumber = [...tempUniformNumber, 1]\r\n\r\n                                for (let i = 0; i < selectedMembersData.length; i++) {\r\n                                    if (selectedMembersData[i].player_id === allUnder3Member.player_id) {\r\n                                        tempSelectedMember[index] = true\r\n                                    }\r\n                                }\r\n                            })\r\n\r\n                            selectedMembersData.map((selectedMember, ind) => {\r\n                                tempUniformNumber[ind] = selectedMember.uniform_number\r\n                            })\r\n                        }\r\n\r\n\r\n\r\n                        setCheck(allUnder3MemberData, tempSelectedMember, setSelectedMember);\r\n                        console.log(tempUniformNumber)\r\n                        setUniformNumberArray(tempUniformNumber)\r\n\r\n                    })\r\n            }\r\n\r\n            else {\r\n                setCheck(allUnder3MemberData, selectedMember, setSelectedMember)\r\n            }\r\n\r\n            if (uniformNumberArray[0] == null) {\r\n                let Array = [1];\r\n                for (let i = 1; i < allUnder3MemberData.length; i++) {\r\n                    Array = [...Array, 1]\r\n                }\r\n                uniformNumberArray = Array\r\n                console.log(\"aaaaa\")\r\n                setUniformNumberArray(uniformNumberArray)\r\n            }\r\n\r\n        })\r\n}\r\n\r\n\r\n\r\nconst { Schools } = require(\"../../../../DB/Schools\"); //分割代入\r\n//const { Member } = require(\"../../../../DB/Member\")\r\nconst Member = [{}]\r\n\r\nconst setCheck = (copyMember, selectedMember, setSelectedMember) => {\r\n    let copyArray = []\r\n    const beforeChecked = selectedMember\r\n\r\n    for (let i = 0; i < copyMember.length; i++) {\r\n        copyArray = [...copyArray, false]\r\n    }\r\n\r\n    if (beforeChecked.length !== 0) {\r\n        for (let i = 0; i < beforeChecked.length; i++) {\r\n            copyArray[i] = beforeChecked[i]\r\n        }\r\n    }\r\n\r\n    setSelectedMember(copyArray)\r\n}\r\n\r\n//背番号\r\nconst setBacknumber = (copyMember, setCopyMember) => {\r\n    for (let i = 0; i < copyMember.length; i++) {\r\n        copyMember[i].uniform_number = 1\r\n    }\r\n    setCopyMember(copyMember)\r\n\r\n}\r\n\r\nconst makePulldownBN = (ind, uniformNumberArray, setUniformNumberArray) => {\r\n\r\n    //そのためにループしたい数と同じ長さの配列を作る\r\n    let nullArray = [0]\r\n    for (let i = 1; i < 50; i++) {\r\n        nullArray = [...nullArray, i]\r\n    }\r\n    return (\r\n        <>\r\n            <select id=\"fruit\"\r\n                onChange={(e) => {\r\n                    console.log(e.target.value + \"_\" + ind)\r\n                    let copyUniformNumberArray = uniformNumberArray\r\n                    copyUniformNumberArray = copyUniformNumberArray.slice(0, copyUniformNumberArray.length)\r\n                    copyUniformNumberArray[ind] = e.target.value\r\n                    setUniformNumberArray(copyUniformNumberArray)\r\n                }}>\r\n                    <option value={0}>背番号を変更する</option>\r\n                {nullArray.map((component, ind) => (\r\n                    <option value={ind + 1}>{ind + 1}</option>\r\n                ))\r\n                }\r\n            </select>\r\n        </>\r\n    )\r\n}\r\n\r\nconst handleSousin = (copyMember, selectedMember, urlTournamentId, uniformNumberArray) => {\r\n\r\n    let sendArray = copyMember\r\n\r\n\r\n    for (let i = 0; i < sendArray.length; i++) {\r\n        delete sendArray[i].hit_num\r\n        delete sendArray[i].bat_num\r\n        sendArray[i].tournament_id = urlTournamentId\r\n        sendArray[i].uniform_number = uniformNumberArray[i]\r\n\r\n    }\r\n\r\n    //選択したものだけの配列を作る\r\n    let sendArray2 = []\r\n    sendArray.map((component, ind) => {\r\n        if (selectedMember[ind] === true) sendArray2 = [...sendArray2, sendArray[ind]]\r\n    })\r\n    console.log(sendArray2)\r\n\r\n\r\n\r\n    fetch(\"http://localhost:5000/member/tournament_member_register\", {\r\n        method: \"POST\",\r\n        mode: \"cors\",\r\n        headers: {\r\n            \"Content-Type\": \"application/json\",\r\n        },\r\n        body: JSON.stringify(sendArray2),\r\n    })\r\n}\r\n\r\nconst lordRegisteredMember = (urlTournamentId, urlSchoolId) => {\r\n    fetch(\"http://localhost:5000/member/tournament_member_call\", {\r\n        method: \"POST\",\r\n        mode: \"cors\",\r\n        headers: {\r\n            \"Content-Type\": \"application/json\",\r\n        },\r\n        body: JSON.stringify({ tournament_id: urlTournamentId, school_id: urlSchoolId }),\r\n    })\r\n        .then((response) => response.json())\r\n        .then((data) => {\r\n            console.log(data)\r\n        })\r\n}\r\n\r\n\r\nconst selectHitted = (handedHitState, handleHandedHit) => {\r\n    if (handedHitState === \"左\") {\r\n        return (\r\n            <>\r\n                <button style={{ color: \"white\", background: \"lightskyblue\" }}>左打</button>\r\n                <button style={{ color: \"white\", background: \"mediumblue\" }} onClick={() => handleHandedHit(\"右\")}>右打</button>\r\n                <button style={{ color: \"white\", background: \"mediumblue\" }} onClick={() => handleHandedHit(\"両\")}>両打</button>\r\n            </>\r\n        )\r\n    }\r\n    else if (handedHitState === \"右\") {\r\n        return (\r\n            <>\r\n                <button style={{ color: \"white\", background: \"mediumblue\" }} onClick={() => handleHandedHit(\"左\")}>左打</button>\r\n                <button style={{ color: \"white\", background: \"lightskyblue\" }}>右打</button>\r\n                <button style={{ color: \"white\", background: \"mediumblue\" }} onClick={() => handleHandedHit(\"両\")}>両打</button>\r\n            </>\r\n        )\r\n    }\r\n    else if (handedHitState === \"両\") {\r\n        return (\r\n            <>\r\n                <button style={{ color: \"white\", background: \"mediumblue\" }} onClick={() => handleHandedHit(\"左\")}>左打</button>\r\n                <button style={{ color: \"white\", background: \"mediumblue\" }} onClick={() => handleHandedHit(\"右\")}>右打</button>\r\n                <button style={{ color: \"white\", background: \"lightskyblue\" }}>両打</button>\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\nconst selectThrowed = (handedThrowState, handleHandedThrow) => {\r\n    if (handedThrowState === \"左\") {\r\n        return (\r\n            <>\r\n                <button style={{ color: \"white\", background: \"lightskyblue\" }}>左投</button>\r\n                <button style={{ color: \"white\", background: \"mediumblue\" }} onClick={() => handleHandedThrow(\"右\")}>右投</button>\r\n                <button style={{ color: \"white\", background: \"mediumblue\" }} onClick={() => handleHandedThrow(\"両\")}>両投</button>\r\n            </>\r\n        )\r\n    }\r\n    else if (handedThrowState === \"右\") {\r\n        return (\r\n            <>\r\n                <button style={{ color: \"white\", background: \"mediumblue\" }} onClick={() => handleHandedThrow(\"左\")}>左投</button>\r\n                <button style={{ color: \"white\", background: \"lightskyblue\" }}>右打</button>\r\n                <button style={{ color: \"white\", background: \"mediumblue\" }} onClick={() => handleHandedThrow(\"両\")}>両投</button>\r\n            </>\r\n        )\r\n    }\r\n    else if (handedThrowState === \"両\") {\r\n        return (\r\n            <>\r\n                <button style={{ color: \"white\", background: \"mediumblue\" }} onClick={() => handleHandedThrow(\"左\")}>左投</button>\r\n                <button style={{ color: \"white\", background: \"mediumblue\" }} onClick={() => handleHandedThrow(\"右\")}>右投</button>\r\n                <button style={{ color: \"white\", background: \"lightskyblue\" }}>両打</button>\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\n\r\nexport const InputMember = () => {\r\n    const ining = 1;\r\n    const number = 1;\r\n\r\n    const iningRef = useRef(null)\r\n    const numberRef = useRef(null)\r\n    const nameKanjiRef = useRef(null)\r\n    const nameHiraRef = useRef(null)\r\n\r\n    const [iningState, setIningState] = useState(ining)\r\n    const [schoolState, setSchoolState] = useState(1)\r\n    const [numberState, setNumberState] = useState(1)\r\n\r\n    const [handedHitState, setHandedHitState] = useState(\"左\")\r\n    const [handedThrowState, setHandedThrowState] = useState(\"左\")\r\n\r\n\r\n    //メンバーを選択しているかどうかのフラグをつくる\r\n    let copyArray = [false]\r\n    const [selectedMember, setSelectedMember] = useState(copyArray)\r\n\r\n    //urlから値を取得\r\n    const [searchParams] = useSearchParams();\r\n    const urlTournamentId = searchParams.get(\"urlTournamentId\")\r\n    const urlTournamentName = searchParams.get(\"urlTournamentName\")\r\n    const urlSchoolId = searchParams.get(\"urlSchoolId\")\r\n    const urlSchoolName = searchParams.get(\"urlSchoolName\")\r\n\r\n    //背番号を格納する配列\r\n    const [uniformNumberArray, setUniformNumberArray] = useState([null]);\r\n\r\n    //クリック時メンバー選択\r\n    const handleSelected = (ind) => {\r\n        copyArray = selectedMember.slice(0, selectedMember.length); // stateの配列をコピー(値渡し)\r\n        copyArray[ind] = !copyArray[ind]\r\n        setSelectedMember(copyArray)\r\n    }\r\n\r\n    const [copyMember, setCopyMember] = useState(Member)\r\n\r\n    const initialSetIning = () => {\r\n        for (let i = 1; i <= 3; i++) {\r\n            const option = document.createElement('option')\r\n            option.value = i\r\n            option.text = i\r\n            iningRef.current.appendChild(option)\r\n        }\r\n    }\r\n\r\n    const initialSetNumber = () => {\r\n        for (let i = 1; i <= 50; i++) {\r\n            const option = document.createElement('option')\r\n            option.value = i;\r\n            option.text = i;\r\n            numberRef.current.appendChild(option)\r\n        }\r\n    }\r\n\r\n\r\n    useEffect(() => {\r\n\r\n        initialSetIning();\r\n        initialSetNumber();\r\n        loadMember(uniformNumberArray, setUniformNumberArray, urlTournamentId, urlSchoolId, setCopyMember, selectedMember, setSelectedMember, true)\r\n        //明日のメモ\r\n        //選手を追加すると、ロードしなおすため背番号が消えてしまう。\r\n        //だから、copymemberとは別の配列を用意してそこに記録する\r\n        //選手を追加する場合は下から出てくる\r\n        //あと選手の送信も訂正すること\r\n        lordRegisteredMember(urlTournamentId, urlSchoolId)\r\n    }, [])\r\n\r\n\r\n\r\n\r\n\r\n\r\n    const selectIning = (e) => {\r\n        setIningState(e.target.value)\r\n    }\r\n    const selectNumber = (e) => {\r\n        setNumberState(e.target.value)\r\n    }\r\n    const selectSchool = (e) => {\r\n        setSchoolState(e.target.value)\r\n    }\r\n    const handleHandedHit = (value) => {\r\n        setHandedHitState(value)\r\n    }\r\n    const handleHandedThrow = (value) => {\r\n        setHandedThrowState(value)\r\n    }\r\n\r\n\r\n\r\n\r\n    const handleMembers = (uniformNumberArray, setUniformNumberArray) => {\r\n        let Array = [{\r\n            \"school_id\": urlSchoolId,\r\n            \"player_name_kanji\": nameKanjiRef.current.value,\r\n            \"player_name_hira\": nameHiraRef.current.value,\r\n            \"uniform_number\": numberRef.current.value,\r\n            \"grade\": iningRef.current.value,\r\n            \"handed_hit\": handedHitState,\r\n            \"handed_throw\": handedThrowState,\r\n            \"BA\": 0,\r\n            \"bat_num\": 0,\r\n            \"hit_num\": 0\r\n        }]\r\n\r\n        console.log(Array)\r\n\r\n        fetch(\"http://localhost:5000/member/member_register\", {\r\n            method: \"POST\",\r\n            mode: \"cors\",\r\n            headers: {\r\n                \"Content-Type\": \"application/json\",\r\n            },\r\n            //body: JSON.stringify({ email:login_id , password:login_ps }),\r\n            body: JSON.stringify(Array),\r\n        })\r\n            .then((response) => response.text())\r\n            .then((data) => {\r\n                if (data === \"OK\") {\r\n                    let copyUniformNumberArray = uniformNumberArray\r\n                    copyUniformNumberArray = copyUniformNumberArray.slice(0, copyUniformNumberArray.length)\r\n                    console.log(numberRef.current.value)\r\n                    setUniformNumberArray([...copyUniformNumberArray, numberRef.current.value])\r\n                    console.log([...uniformNumberArray, numberRef.current.value])\r\n                    loadMember(uniformNumberArray, setUniformNumberArray, urlTournamentId, urlSchoolId, setCopyMember, selectedMember, setSelectedMember, false )\r\n                }\r\n            })\r\n    }\r\n\r\n\r\n    return (\r\n        <>\r\n            <h1>選手登録画面{<button\r\n                onClick={() => {\r\n                    handleSousin(copyMember, selectedMember, urlTournamentId, uniformNumberArray)\r\n                }}>送信</button>}</h1>\r\n            <h3>{urlTournamentName}</h3>\r\n            <h4>編集中:{urlSchoolName}</h4>\r\n\r\n            <div className=\"toroku\">\r\n                <div className=\"MakeGame\">\r\n                    <br />\r\n                    学年<select ref={iningRef} value={iningState} onChange={selectIning} ></select>&nbsp;\r\n                    背番号<select ref={numberRef} value={numberState} onChange={selectNumber} ></select>&nbsp;&nbsp;\r\n\r\n                    {selectHitted(handedHitState, handleHandedHit)}\r\n\r\n                    <br />\r\n\r\n                    名前（漢字）　<input ref={nameKanjiRef} ></input>\r\n                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n\r\n                    {selectThrowed(handedThrowState, handleHandedThrow)}\r\n\r\n                    <br />\r\n\r\n                    名前（ひらがな）　<input ref={nameHiraRef}></input> &nbsp; &nbsp;\r\n                    <button onClick={() => handleMembers(uniformNumberArray, setUniformNumberArray)}>追加</button>\r\n                    <button onClick={() => { console.log(uniformNumberArray) }}>プルダウンテストボタン</button>\r\n                </div>\r\n                <hr></hr>\r\n            </div>\r\n            {console.log(uniformNumberArray)}\r\n            <div className=\"hyoji\">\r\n                <div className=\"players\">\r\n                    {copyMember.map((member, ind) => (\r\n                        <div className=\"school\">\r\n                            <button\r\n                                onClick={() => handleSelected(ind)}\r\n                                className={\"InputMember\" + selectedMember[ind]}\r\n                            >\r\n                                {member.player_name_hira} &nbsp; {member.grade}年 &nbsp;\r\n                                {/* &nbsp; 背番号{member.uniform_number}  */}\r\n                                &nbsp; {member.handed_hit}打 &nbsp; {member.handed_throw}投\r\n                                &nbsp; 背番号:{uniformNumberArray[ind]}\r\n                                <hr></hr>{member.player_name_kanji}\r\n                            </button>\r\n                            {makePulldownBN(ind, uniformNumberArray, setUniformNumberArray)}\r\n                            <br /><br />\r\n                        </div>\r\n                    ))}\r\n                </div>\r\n            </div>\r\n\r\n\r\n        </>\r\n    )\r\n}\r\n\r\nexport default InputMember"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}
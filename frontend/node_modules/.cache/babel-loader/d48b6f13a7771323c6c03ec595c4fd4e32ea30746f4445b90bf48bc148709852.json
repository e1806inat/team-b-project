{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\morim\\\\Desktop\\\\my_folder\\\\school\\\\lesson\\\\ensyu\\\\code\\\\team-b-project\\\\frontend\\\\src\\\\AllPage\\\\LogInPage\\\\Login.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Login = () => {\n  _s();\n  //バックエンドのurlを取得\n  const backendUrl = require(\"../../DB/communication\").backendUrl;\n  const initialValues = {\n    loginID: \"test\",\n    password: \"123456789\"\n  };\n  const [formValues, setFormValues] = useState(initialValues);\n  const [formErrors, setFormErrors] = useState({});\n  const [isSubmit, setIsSubmit] = useState(false);\n  const handleChande = e => {\n    //console.log(e.target.value);\n    const {\n      name,\n      value\n    } = e.target;\n    setFormValues({\n      ...formValues,\n      [name]: value\n    });\n    //console.log(formValues);\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    //ログイン情報を送信する\n    //バリデーションチェック\n    setFormErrors(validate(formValues));\n    setIsSubmit(true);\n    console.log(formValues);\n  };\n  const validate = values => {\n    const errors = {};\n    if (!values.loginID) {\n      errors.loginID = \"ログイン名を入力してください。\";\n    }\n    if (!values.password) {\n      errors.password = \"パスワードを入力してください。\";\n    } else if (values.password.length < 4) {\n      errors.password = \"4文字以上15文字以下のパスワードを入力してください\";\n    } else if (values.password.length > 15) {\n      errors.password = \"4文字以上15文字以下のパスワードを入力してください\";\n    }\n    return errors;\n  };\n  const handleLogin = () => {\n    fetch(\"http://localhost:5000/auth/login\", {\n      method: \"POST\",\n      mode: \"cors\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        user_name: formValues.loginID,\n        password: formValues.password\n      })\n    }).then(response => response.text()).then(data => {\n      console.log(data);\n      if (data === \"OK\") {\n        window.location.href = '/home';\n      }\n      window.location.href = '/home';\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"formContainer\",\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: e => handleSubmit(e),\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"\\u30ED\\u30B0\\u30A4\\u30F3\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"uiform\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"formField\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                placeholder: \"\\u30ED\\u30B0\\u30A4\\u30F3\\u540D\",\n                name: \"loginID\",\n                onChange: e => handleChande(e)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 81,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"errorMsg\",\n                children: formErrors.loginID\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 86,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 80,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"formField\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                placeholder: \"\\u30D1\\u30B9\\u30EF\\u30FC\\u30C9\",\n                name: \"password\",\n                onChange: e => handleChande(e)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 89,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"errorMsg\",\n                children: formErrors.password\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 94,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 88,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"submitButton\",\n            onClick: handleLogin,\n            children: \"\\u30A2\\u30AB\\u30A6\\u30F3\\u30C8\\u60C5\\u5831\\u3092\\u9001\\u4FE1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 13\n          }, this), Object.keys(formErrors).length === 0 && isSubmit && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"MsgOk\",\n            children: \"\\u7167\\u5408\\u4E2D\\u3067\\u3059\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 73,\n    columnNumber: 5\n  }, this);\n};\n_s(Login, \"ZvOcovhV6vGj3YQ7m8DANZ43R/I=\");\n_c = Login;\nexport default Login;\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["React","useState","Login","backendUrl","require","initialValues","loginID","password","formValues","setFormValues","formErrors","setFormErrors","isSubmit","setIsSubmit","handleChande","e","name","value","target","handleSubmit","preventDefault","validate","console","log","values","errors","length","handleLogin","fetch","method","mode","headers","body","JSON","stringify","user_name","then","response","text","data","window","location","href","Object","keys"],"sources":["C:/Users/morim/Desktop/my_folder/school/lesson/ensyu/code/team-b-project/frontend/src/AllPage/LogInPage/Login.jsx"],"sourcesContent":["import React, { useState } from 'react';\r\n\r\nconst Login = () => {\r\n  //バックエンドのurlを取得\r\n  const backendUrl = require(\"../../DB/communication\").backendUrl;\r\n\r\n  const initialValues = { loginID: \"test\", password: \"123456789\" };\r\n  const [formValues, setFormValues] = useState(initialValues);\r\n  const [formErrors, setFormErrors] = useState({});\r\n  const [isSubmit, setIsSubmit] = useState(false);\r\n\r\n  const handleChande = (e) => {\r\n    //console.log(e.target.value);\r\n    const { name, value } = e.target;\r\n    setFormValues({ ...formValues, [name]: value });\r\n    //console.log(formValues);\r\n  };\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    //ログイン情報を送信する\r\n    //バリデーションチェック\r\n    setFormErrors(validate(formValues));\r\n    setIsSubmit(true);\r\n    console.log(formValues);\r\n  };\r\n\r\n  const validate = (values) => {\r\n    const errors = {};\r\n\r\n    if (!values.loginID) {\r\n      errors.loginID = \"ログイン名を入力してください。\";\r\n    }\r\n    if (!values.password) {\r\n      errors.password = \"パスワードを入力してください。\";\r\n    }\r\n    else if (values.password.length < 4) {\r\n      errors.password = \"4文字以上15文字以下のパスワードを入力してください\";\r\n    }\r\n    else if (values.password.length > 15) {\r\n      errors.password = \"4文字以上15文字以下のパスワードを入力してください\";\r\n    }\r\n    return errors;\r\n  };\r\n\r\n\r\n\r\n\r\n  const handleLogin = () => {\r\n\r\n    fetch(\"http://localhost:5000/auth/login\", {\r\n      method: \"POST\",\r\n      mode: \"cors\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify({ user_name: formValues.loginID, password: formValues.password }),\r\n    })\r\n      .then((response) => response.text())\r\n      .then((data) => {\r\n        console.log(data)\r\n\r\n        if (data === \"OK\") {\r\n          window.location.href = '/home'\r\n        }\r\n        window.location.href = '/home'\r\n      })\r\n  }\r\n\r\n\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"formContainer\">\r\n        <form onSubmit={(e) => handleSubmit(e)}>\r\n          <h1>ログイン</h1>\r\n\r\n          <div className=\"uiform\">\r\n            <div className=\"form\">\r\n              <div className=\"formField\">\r\n                <input type=\"text\"\r\n                  placeholder=\"ログイン名\"\r\n                  name=\"loginID\"\r\n                  onChange={(e) => handleChande(e)}\r\n                />\r\n                <p className=\"errorMsg\">{formErrors.loginID}</p>\r\n              </div>\r\n              <div className=\"formField\">\r\n                <input type=\"text\"\r\n                  placeholder=\"パスワード\"\r\n                  name=\"password\"\r\n                  onChange={(e) => handleChande(e)}\r\n                />\r\n                <p className=\"errorMsg\">{formErrors.password}</p>\r\n              </div>\r\n            </div>\r\n            <button className=\"submitButton\" onClick={handleLogin}>アカウント情報を送信</button>\r\n            {Object.keys(formErrors).length === 0 && isSubmit && (\r\n              <div className=\"MsgOk\">照合中です</div>\r\n            )}\r\n          </div>\r\n        </form>\r\n      </div>\r\n\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Login;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}
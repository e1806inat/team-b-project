{"ast":null,"code":"import _assertThisInitialized from\"C:/Users/morim/Desktop/my_folder/school/lesson/ensyu/code/team-b-project-output/team-b-project/frontend/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js\";import _classCallCheck from\"C:/Users/morim/Desktop/my_folder/school/lesson/ensyu/code/team-b-project-output/team-b-project/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"C:/Users/morim/Desktop/my_folder/school/lesson/ensyu/code/team-b-project-output/team-b-project/frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"C:/Users/morim/Desktop/my_folder/school/lesson/ensyu/code/team-b-project-output/team-b-project/frontend/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"C:/Users/morim/Desktop/my_folder/school/lesson/ensyu/code/team-b-project-output/team-b-project/frontend/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import _regeneratorRuntime from\"C:/Users/morim/Desktop/my_folder/school/lesson/ensyu/code/team-b-project-output/team-b-project/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/morim/Desktop/my_folder/school/lesson/ensyu/code/team-b-project-output/team-b-project/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import React from\"react\";//バックエンドのurlを取得\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var backendUrl=require(\"../../../../../../DB/communication\").backendUrl;var gameSets=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(gameId,schoolId1,schoolId2){var funcGL,resultValue;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(backendUrl+\"/game/game_sets\",{method:\"POST\",mode:\"cors\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({game_id:gameId,school_id_1:schoolId1,school_id_2:schoolId2})});case 2:funcGL=_context.sent;_context.next=5;return funcGL.text();case 5:resultValue=_context.sent;_context.next=8;return console.log(\"gameSets=\"+resultValue);case 8:case\"end\":return _context.stop();}}},_callee);}));return function gameSets(_x,_x2,_x3){return _ref.apply(this,arguments);};}();//メインのDOMの中で配置するサブ部品のような要素\nvar GameEndPopup=/*#__PURE__*/function(_React$Component){_inherits(GameEndPopup,_React$Component);var _super=_createSuper(GameEndPopup);function GameEndPopup(){_classCallCheck(this,GameEndPopup);return _super.apply(this,arguments);}_createClass(GameEndPopup,[{key:\"render\",value:function render(){var _this=this;return/*#__PURE__*/_jsx(\"div\",{className:\"popup_field\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"popup_inner_field\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"title\",children:this.props.text}),/*#__PURE__*/_jsx(\"p\",{children:\"\\u8A66\\u5408\\u3092\\u7D42\\u4E86\\u3057\\u3001\\u60C5\\u5831\\u3092\\u767B\\u9332\\u3057\\u307E\\u3059\\u304C\\u3088\\u308D\\u3057\\u3044\\u3067\\u3057\\u3087\\u3046\\u304B\\uFF1F\"}),/*#__PURE__*/_jsx(\"button\",{className:\"button_style\",onClick:this.props.closePopup,children:\"\\u3044\\u3044\\u3048\"}),/*#__PURE__*/_jsx(\"nbsp\",{}),/*#__PURE__*/_jsx(\"button\",{className:\"button_style\",onClick:function onClick(){gameSets(parseInt(_this.props.urlGameId),parseInt(_this.props.schoolId1),parseInt(_this.props.schoolId2));_this.props.closePopup();_this.props.TableRegister(parseInt(_this.props.urlGameId));_this.props.CalculateBatAvg(parseInt(_this.props.urlGameId));_this.props.TmpTableDelete(parseInt(_this.props.urlGameId));},children:\"\\u306F\\u3044\"})]})});}}]);return GameEndPopup;}(React.Component);//コンポーネントの内部に別のコンポーネントを持つことができる　ここではPopupというコンポ―ネントがある\nvar GameEndPopup_field=/*#__PURE__*/function(_React$Component2){_inherits(GameEndPopup_field,_React$Component2);var _super2=_createSuper(GameEndPopup_field);//初期設定の要素をconstructorに記述する\n//bind(this)をしないと呼び出し先のthisがundefinedになってしまう\nfunction GameEndPopup_field(props,context){var _this2;_classCallCheck(this,GameEndPopup_field);_this2=_super2.call(this);_this2.state={showPopup:false};_this2.togglePopup=_this2.togglePopup.bind(_assertThisInitialized(_this2));//重要\nreturn _this2;}//togglePopupによってthis.state.showPopupの値を反転させる\n_createClass(GameEndPopup_field,[{key:\"togglePopup\",value:function togglePopup(){this.setState({showPopup:!this.state.showPopup});}//renderの中に設置したいメインのDOM(部品）を記述していく\n},{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"a\",{href:\"#\",onClick:this.togglePopup,children:\"\\u8A66\\u5408\\u7D42\\u4E86\"})}),this.state.showPopup?/*#__PURE__*/_jsx(GameEndPopup,{text:\"\\u78BA\\u8A8D\\u753B\\u9762\",closePopup:this.togglePopup,TableRegister:this.props.TableRegister,urlGameId:this.props.urlGameId,TmpTableDelete:this.props.TmpTableDelete,DeleteDuringGame:this.props.DeleteDuringGame,CalculateBatAvg:this.props.CalculateBatAvg,schoolId1:this.props.schoolId1,schoolId2:this.props.schoolId2}):null]});}}]);return GameEndPopup_field;}(React.Component);//配置する部品の決まり文句\nexport default GameEndPopup_field;","map":{"version":3,"names":["React","backendUrl","require","gameSets","gameId","schoolId1","schoolId2","fetch","method","mode","headers","body","JSON","stringify","game_id","school_id_1","school_id_2","funcGL","text","resultValue","console","log","GameEndPopup","props","closePopup","parseInt","urlGameId","TableRegister","CalculateBatAvg","TmpTableDelete","Component","GameEndPopup_field","context","state","showPopup","togglePopup","bind","setState","DeleteDuringGame"],"sources":["C:/Users/morim/Desktop/my_folder/school/lesson/ensyu/code/team-b-project-output/team-b-project/frontend/src/AllPage/InputAll/Sokuho/SokuhoPlaygame/comSokuho/GameEndPopup/GameEndPopup.jsx"],"sourcesContent":["import React from \"react\";\n\n//バックエンドのurlを取得\nconst backendUrl = require(\"../../../../../../DB/communication\").backendUrl;\n\nconst gameSets = async (gameId, schoolId1, schoolId2) => {\n  const funcGL = await fetch(backendUrl + \"/game/game_sets\", {\n    method: \"POST\", mode: \"cors\", headers: { \"Content-Type\": \"application/json\", },\n    body: JSON.stringify({ game_id: gameId, school_id_1: schoolId1, school_id_2: schoolId2 }),\n  })\n  const resultValue = await funcGL.text()\n  await console.log(\"gameSets=\" + resultValue)\n}\n\n//メインのDOMの中で配置するサブ部品のような要素\nclass GameEndPopup extends React.Component {\n  render() {\n    return (\n      <div className=\"popup_field\">\n        <div className=\"popup_inner_field\">\n          <div className=\"title\">{this.props.text}</div>\n          <p>試合を終了し、情報を登録しますがよろしいでしょうか？</p>\n          <button className=\"button_style\" onClick={this.props.closePopup}>いいえ</button>\n          <nbsp></nbsp>\n          <button className=\"button_style\"\n            onClick={() => {\n\n              gameSets(parseInt(this.props.urlGameId), parseInt(this.props.schoolId1), parseInt(this.props.schoolId2))\n\n              this.props.closePopup()\n              this.props.TableRegister(parseInt(this.props.urlGameId))\n              this.props.CalculateBatAvg(parseInt(this.props.urlGameId))\n              this.props.TmpTableDelete(parseInt(this.props.urlGameId))\n            }}>はい</button>\n        </div>\n      </div>\n    );\n  }\n}\n\n//コンポーネントの内部に別のコンポーネントを持つことができる　ここではPopupというコンポ―ネントがある\nclass GameEndPopup_field extends React.Component {\n  //初期設定の要素をconstructorに記述する\n  //bind(this)をしないと呼び出し先のthisがundefinedになってしまう\n  constructor(props, context) {\n    super();\n    this.state = { showPopup: false };\n    this.togglePopup = this.togglePopup.bind(this);//重要\n  }\n  //togglePopupによってthis.state.showPopupの値を反転させる\n  togglePopup() {\n    this.setState({\n      showPopup: !this.state.showPopup,\n    });\n  }\n  //renderの中に設置したいメインのDOM(部品）を記述していく\n  render() {\n    return (\n      <>\n        <li><a href=\"#\" onClick={this.togglePopup}>試合終了</a></li>\n        {/* this.state.PopupがtrueであればPopupウィンドウを開く */}\n        {this.state.showPopup ? (\n          <GameEndPopup text=\"確認画面\"\n            closePopup={this.togglePopup}\n            TableRegister={this.props.TableRegister}\n            urlGameId={this.props.urlGameId}\n            TmpTableDelete={this.props.TmpTableDelete}\n            DeleteDuringGame={this.props.DeleteDuringGame}\n            CalculateBatAvg={this.props.CalculateBatAvg}\n            schoolId1={this.props.schoolId1}\n            schoolId2={this.props.schoolId2}\n          />\n        ) : null}\n      </>\n    );\n  }\n}\n\n//配置する部品の決まり文句\nexport default GameEndPopup_field;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}